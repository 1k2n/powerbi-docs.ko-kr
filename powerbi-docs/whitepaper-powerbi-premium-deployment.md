---
title: 배포 하 고 Power BI 프리미엄 용량 관리
description: Power BI 프리미엄의 잠재력을 이해 하 고 디자인, 배포, 모니터링 및 확장 가능한 솔루션의 문제를 해결 하는 방법을 알아봅니다.
author: mgblythe
ms.author: mblythe
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-admin
ms.topic: conceptual
ms.date: 03/06/2019
LocalizationGroup: Premium
ms.openlocfilehash: fbae2a8b577c52ae597d44bd6ea9913510c4c65c
ms.sourcegitcommit: dc73e932c9982a4aa0b0ec5297fb9f94c6156bc5
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 06/04/2019
ms.locfileid: "66518557"
---
# <a name="deploying-and-managing-power-bi-premium-capacities"></a>배포 하 고 Power BI 프리미엄 용량 관리

**요약:** Power BI 프리미엄 조직의 모든 사용자에 대 한 일관 된 성능과 대용량 데이터 볼륨에 대 한 지원을 통합 된 셀프 서비스 및 엔터프라이즈 BI 플랫폼의 유연성을 제공합니다. Power BI 관리자 및 내용 작성자 및 게시자에 맞게이 300 수준 기술 백서를 썼습니다. Power BI 프리미엄의 잠재력을 이해할 수 있도록 디자인, 배포, 모니터링 및 확장 가능한 솔루션의 문제를 해결 하는 방법을 설명 하는 데 그 목적이 있습니다.

**작성자:** [Peter Myers](https://www.linkedin.com/in/peterjsmyers) (데이터 플랫폼 MVP 및 비트 솔루션과 독립 BI 전문가)

**기술 검토자:** Adam Saxton, Akshai Mirchandani, Bhavik 가맹점, David Magar, Josh Caplan, Michael Blythe, Nimrod Shalit, Olivier Matrat, Swati Gupta

**적용 대상:** Power BI 서비스, Power BI 프리미엄 및 Power BI Embedded Azure 용량

> [!NOTE]
> 이 백서는 브라우저에서 **인쇄**를 선택한 다음, **PDF로 저장**을 선택하여 저장하거나 인쇄할 수 있습니다.

## <a name="introducing-power-bi"></a>Power BI 소개

Power BI는 신속 하 고 합리적인 의사 결정을 사용 하도록 설정 하는 정보를 제공 하도록 설계 된 비즈니스 분석 서비스입니다. 2015 릴리스 이후로 신속 하 게 되었기 때문에 조직 중 가장 작은 숫자에 대 한 솔루션 가장 큰 값을 제공 하는 데 사용 하는 인기 있는 서비스 기업입니다.

두 가지 방법으로 사용할 수 있습니다. 클라우드 서비스와 온-프레미스 보고 솔루션 이라는 **Power BI Report Server**합니다. \[[1](#endnote-01)\]

Power BI 클라우드 서비스는 소프트웨어-as a Service (SaaS) \[ [2](#endnote-02)\]합니다. 서비스 및 조직에서 개발, 배포, 관리, 비즈니스를 모니터링 하는 솔루션을 공유할 수 있도록 하는 응용 프로그램의 집합을 나타냅니다.

이 백서에서는 Power BI 서비스에 대 한 포괄적인 설명을 제공 하려고 함을 아닙니다. 대신 Power BI 프리미엄의 주제와 관련 된 항목 중점적으로 설명 합니다. Power BI에 대 한 일반 정보는 포괄적인 참조 [Power BI 설명서](service-admin-premium-multi-geo.md)합니다. 에 대 한 자세한 설명은 달성 성능이 우수한 엔터프라이즈 배포에 중점을 둔 Power BI 서비스에는 포괄적인 참조 [Power BI 엔터프라이즈 배포 계획](https://aka.ms/pbienterprisedeploy) 백서입니다.

이 섹션에서는이 백서 제목의 컨텍스트 내에서 소개 하 고 용량, Power BI 콘텐츠 형식, 모델 저장소 모드 및 라이선스에 대해 설명 합니다. 이러한 항목의 이해를 성공적으로 배포 하 고 Power BI 프리미엄 관리 반드시 필요 합니다.

### <a name="capacities"></a>용량

**용량** 는 호스트 및 Power BI를 제공 하는 데 리소스 (저장소, 프로세서 및 메모리)의 집합을 나타내는 핵심 Power BI 개념 콘텐츠입니다. 용량 공유 또는 전용 됩니다. A **공유 용량** 는 다른 Microsoft 고객과 공유 하는 동안는 **전용 용량** 단일 고객에 게 완전히 커밋됩니다. 전용된 용량에 도입 된 [프리미엄 용량](#premium-capacities) 항목입니다.

공유 용량에서 워크 로드는 다른 고객과 공유 하는 계산 리소스에서 실행 합니다. 용량 리소스를 공유 해야 하는 대로 fair "실행", 최대 모델 크기 (1 GB) 및 최대 매일 새로 고침 빈도 (8 시간 / 일) 등을 확인 하려면 제한이 적용 됩니다.

### <a name="workspaces"></a>작업 영역

용량 내에서 power BI 작업 영역 상주 하 고, 보안, 공동 작업 및 배포 컨테이너를 나타냅니다. 각 Power BI 사용자에 게는 개인 작업 영역 이라고 **내 작업 영역**합니다. 공동 작업 및 배포를 사용 하도록 설정 하려면 추가 작업 영역을 만들 수 있습니다 및 이러한 라고 **앱 작업 영역**합니다. 기본적으로 포함 하 여 개인 작업 영역-작업 영역 공유 용량에서 만들어집니다.

### <a name="power-bi-content-types"></a>Power BI 콘텐츠 형식

가 소개 하기 위해 Power BI 프리미엄 항목에 대 한 자세한 설명은 기본 콘텐츠 형식을 비롯 한 Power BI 아키텍처로 시작 해야 합니다.

모든 Power BI 콘텐츠 저장 되 고 Power BI 콘텐츠의 컨테이너는 작업 영역 내에서 관리 됩니다. 각 Power BI 사용자가 자신의 개인 작업 영역에 있지만 앱 작업 영역을 만드는 것이 일반적인 좋습니다. 앱 작업 영역 co-ownership 콘텐츠 및 콘텐츠 공동 작업 하는 기능을 사용 하도록 설정 합니다. 또한 단계 와이드 대상 앱으로 콘텐츠를 배포 하는 기능을 제공 합니다.

다음 Power BI 콘텐츠를 작업 영역에 저장 됩니다.

- 데이터 흐름
- 데이터 세트
- 통합 문서
- 보고서
- 대시보드

#### <a name="dataflows"></a>데이터 흐름

Power BI 데이터 흐름을 통해 조직은 서로 다른 원본의 데이터를 통합할 수 있습니다. 하지만 보고에 대 한 원본으로 직접 사용할 수 없습니다 준비 및 모델에서 사용 하기 위해 준비 된 데이터로 간주할 수 있습니다. 광범위 한 Microsoft 데이터 커넥터, 온-프레미스 및 클라우드 기반 데이터 원본에서 데이터의 수집을 사용 하도록 설정 하면 컬렉션을 활용 합니다.

데이터 흐름을 생성 및 앱 작업 영역에서 관리만 수 및 Azure Data Lake 저장소 Gen2에서 공통 데이터 모델 (CDM)에서 엔터티로 저장 됩니다. 일반적으로 최신 데이터를 저장 하는 것이 반복적으로 새로 고침을 예약 합니다.

자세한 내용은 참조는 [Power BI (미리 보기)에서 셀프 서비스 데이터 준비](service-dataflows-overview.md) 문서.

#### <a name="datasets"></a>데이터 세트

Power BI 데이터 집합에는 보고 및 시각화에 대 한 준비 데이터의 원본을 나타냅니다. 다양 한 유형의 데이터 집합을 만들어 가지

- Power BI 용량에서 호스트 되지 않는 기존 데이터 모델에 연결
- 모델이 포함 된 Power BI Desktop 파일을 업로드 합니다.
- Excel 통합 문서 (하나 이상에 해당 하는 Excel의 테이블 및/또는 통합 문서 데이터 모델 포함)를 업로드 하거나 쉼표로 구분 된 값 (CSV) 파일을 업로드 합니다.
- Power BI 서비스를 사용 하 여 푸시를 만들려면, 스트리밍 또는 하이브리드 스트리밍 데이터 집합

스트리밍 데이터 집합을 제외 하 고 \[ [3](#endnote-03)\], 데이터 집합은 Analysis Services의 완성도 높은 모델링 기술을 활용 하는 데이터 모델을 나타냅니다.

Note 설명서에서는 경우에 따라 용어 집합과 모델은 서로 바꿔 사용할 수 있습니다. 일반적으로 Power BI 서비스 관점에서 이라고 하는 **데이터 집합** , 및 개발 관점에서 이라고 하는 **모델**합니다. 이 백서의 컨텍스트에서 거의 같다고를 의미를 갖습니다.

##### <a name="externally-hosted-models"></a>외부에서 호스팅 모델

외부에서 호스팅 모델에 연결 하려면 설치 해야 합니다 [온-프레미스 데이터 게이트웨이](service-gateway-onprem.md) VM 호스트 인프라-as a Service (IaaS) 또는 온-프레미스 SQL Server Analysis Services에 연결할 합니다. Azure Analysis Services에는 게이트웨이가 필요 하지 않습니다. 이 시나리오는 것이 좋습니다 있으면 모델에 대 한 기존 투자를 일반적으로 엔터프라이즈 데이터 웨어하우스 (EDW)의 일부를 형성 합니다. Power BI로 수행할 수 있습니다는 **라이브 연결** (LC) Analysis services 및 Power BI 보고서 사용자의 id를 사용 하 여 데이터 사용 권한을 적용 하 여 수행 합니다. SQL Server Analysis Services, 다차원 모델 (큐브) 및 테이블 형식 모델을 모두 지원 됩니다. 다음 그림에 표시 된 대로 라이브 연결 데이터 집합 외부에서 호스팅된 모델에 쿼리를 전달 합니다.

![라이브 연결 데이터 집합 외부에서 호스팅된 모델에 쿼리 전달](media/whitepaper-premium-deployment/live-connection-dataset.png)

##### <a name="power-bi-desktop-developed-models"></a>Power BI Desktop 개발 모델

Analysis Services 테이블 형식 모델을 효과적으로 모델을 개발 하는 클라이언트 응용 프로그램 Power BI 개발을 위한-power BI Desktop은 사용할 수 있습니다. 다른 데이터 원본으로 통합 될 수 있는 데이터 흐름에서 데이터를 가져와서 모델을 개발할 수 있습니다. 모델링을 실현할 수 있는 방법을의 세부 정보는이 백서에서는 범위 외부에 세 가지 다른 형식 또는 모드의 Power BI Desktop을 사용 하 여 개발할 수 있는 모델을 고려해 야 합니다. 이러한 모드는 데이터 모델에 가져오는지 여부 또는 데이터 원본에 남아 있는지 여부를 결정 합니다. 세 가지 모드는 다음과 같습니다. 가져오기, DirectQuery 및 합성 합니다. 각 모드의 설명은에서 다룰 합니다 [모델 저장소 모드](#model-storage-modes) 항목입니다.

외부에서 호스팅 모델 및 Power BI desktop에서 개발 하는 모델에는 행 수준 보안 (RLS) 특정 사용자에 대 한 검색할 수 있는 데이터를 제한 하려면 적용할 수 있습니다. 예를 들어 영업 사원 보안 그룹에 할당 된 사용자는 할당 된 판매 지역에 대 한 보고서 데이터를 보기만 할 수 있습니다. 동적 또는 정적 RLS 역할 수 있습니다. **동적 역할** 보고서 사용자가 필터링 하는 동안 **정적 역할** 역할에 할당 된 모든 사용자에 대 한 동일한 필터를 적용 합니다.

##### <a name="excel-workbook-models"></a>Excel 통합 문서 모델

Excel 통합 문서 또는 CSV에 따라 데이터 집합을 만드는 파일 모델의 자동 생성에서 됩니다. Excel 통합 문서 데이터 모델을 Power BI 모델을 만드는 바뀐 수는 있지만 모델 테이블을 만들려면 Excel 테이블 및 CSV 데이터를 가져옵니다. 모든 경우에 파일 데이터를 모델로 가져옵니다.

그런 다음 차이점에는 모델을 나타내는 Power BI 데이터 집합에 대 한 내릴 수 있습니다.

- Power BI 서비스에서 호스트 되는 또는 외부에서 Analysis Services에서 호스트 되는
- 가져온된 데이터를 저장할 수 있습니다. 또는 기본 데이터 원본 또는 둘의 조합에 통과 쿼리 요청을 실행할 수 있습니다.

모델을 나타내는 Power BI 데이터 집합에 대 한 중요 한 사실 요약은 다음과 같습니다.

- 호스트 된 SQL Server Analysis Services 모델 LC 쿼리를 수행 하는 게이트웨이가 필요
- 데이터 가져오기는 power BI 호스팅 모델
  - 쿼리할 수 있도록 메모리에 완전히 로드 되어야 합니다.
  - 데이터를 최신 상태로 유지 하기 위해 새로 고침이 필요 하며 원본 데이터가 인터넷을 통해 직접 액세스할 수 없는 경우에 게이트웨이 포함 해야 합니다
- Power BI 호스팅 모델 (DQ) DirectQuery 저장소 모드를 사용 하는 원본 데이터에 대 한 연결을 필요 합니다. 모델을 쿼리할 때 Power BI는 현재 데이터를 검색할 원본 데이터 쿼리를 실행 합니다. 이 모드는 인터넷을 통해 직접 원본 데이터에 액세스할 수 없는 게이트웨이 포함 해야 합니다.
- 모델에는 특정 사용자에 게 데이터 액세스를 제한 하는 필터를 적용 하는 RLS 규칙을 적용할 수 있습니다.

가 성공적으로 배포 하 고 Power BI 프리미엄 관리, 모델 호스트 되는 위치, 해당 저장소 모드, 게이트웨이, 가져온된 데이터의 크기에 대 한 모든 종속성을 이해 하 고 유형 및 빈도 새로 고침 하는 일을 해야 합니다. 이러한 모든 있습니다 상당한 영향을 Power BI 프리미엄 리소스에서. 또한 해당 데이터 준비 쿼리 및 계산을 포함 하 여 자체 모델 디자인 고려 사항 조합을 추가할 수 있습니다.

Power BI 호스 가져오기 모델 일정에 따라 새로 고칠 수 있습니다 또는 수 주문형 Power BI 서비스에서 사용자가 트리거한 이해 해야 이기도 합니다.

이 기술 문서의 뒷부분에서 설명 되어 최적화 된 모델을 설계 합니다 [최적화 모델](#optimizing-models) 항목입니다.

#### <a name="workbooks"></a>통합 문서

Power BI 통합 문서는 Power BI 콘텐츠 형식 \[ [4](#endnote-04)\]합니다. Excel 통합 문서는 Power BI 서비스에 업로드 된 및 데이터 집합 (모델)을 만들어 업로드 된 Excel 통합 문서와 혼동 해서는 안 됩니다. 통합 문서 콘텐츠 형식은 Power BI 서비스에 업로드할 수 있거나 또는 OneDrive 또는 SharePoint Online의 클라우드 저장소에 유지 하는 통합 문서에 대 한 연결을 나타냅니다.

이 내용 유형은 Power BI 데이터 시각화에 대 한 데이터 원본으로 사용할 수 없다는 것을 이해 하는 것이 반드시 합니다. 대신, 열 수 있습니다 Power BI 서비스에서 통합 문서를 Excel Online을 사용 하 여 합니다. 이 내용 유형은의 주 목적은 기존 Excel 통합 문서 보고서를 Power BI 서비스 내에서 액세스할 수 및 해당 데이터 시각화를 Power BI 대시보드에 고정할 수 있도록 허용 하는 것입니다.

자세한 내용은 참조는 [Excel 통합 문서 파일에서 데이터를 가져올](service-excel-workbook-files.md) 문서.

#### <a name="reports"></a>보고서

보고서는 다음과 같은 두 종류가 있습니다. Power BI 보고서 및 페이지가 매겨진된 보고서를 제공 합니다.

**Power BI 보고서** 만 단일 데이터 집합에 연결 하는 환경을 대화형 데이터 시각화를 제공 합니다. 보고서는 기능을 별도 작업 배열을 사용 하 여 상호 작용할 수 있도록 사용자 참여를 장려 하기 위해 설계 되었습니다 종종 필터링 및 강조 표시, 드릴 다운 하, 드릴 다운, 드릴스루, 질문 및 답변을 자연 교차 필터링, 조각화 등 언어에 대해, 집중, 페이지 탐색, 확대, 보기 책갈피 및 더 합니다.

이 백서의 컨텍스트에서 알아야는 Power BI 아키텍처, Power BI 보고서 디자인 및 사용자 상호 작용 모든 영향을 줄 수 Power BI 서비스 리소스에서 하는 방법.

- 로드 하 고 가져오기 모델 기반 보고서와 상호 작용, 모델 (Power BI 서비스에서 또는 외부에서 호스팅) 여부 메모리에 완전히 로드 되어야 합니다.
- 각 보고서 시각적 개체 모델을 쿼리하여 데이터를 검색할 쿼리를 발급 합니다.
- 일반적으로 필터 및 슬라이서 상호 작용 모델 쿼리를 포함 합니다. 예를 들어, 슬라이서 선택 항목을 변경-기본적으로 필요한 페이지의 각 시각적 개체를 다시 로드 \[ [5](#endnote-05)\]
- Power BI 보고서는 현재 데이터를 표시를 보장 하지는 않습니다 및 보고서 페이지 및 시각적 개체를 다시 로드 하려면 보고서를 새로 고쳐야 할 수 있습니다.
- 질문 및 답변을 사용 하 여 사용자가 참여할 수 있습니다, 질문, Power BI 보고서 디자인을 제공 하는 자연 언어 기능에서 허용 및 데이터 집합은 Power BI로 호스팅되는 데이터 가져오기 모델 또는 질문 및 답변을 사용 하도록 구성 LC 데이터 집합을 나타냅니다.

**보고서 페이지를 매긴** 게시를 허용 하 고 SQL Server Reporting Services (SSRS) 보고서 렌더링 (\*.rdl 형식). 해당 이름에서 알 수 있듯이, 요구 사항에 따라 필요한 고정 된 페이지 크기를 인쇄 하거나 변수 목록을 완전히 확장 해야 하는 데이터의 경우 페이지 매긴된 보고서는 일반적으로 사용 됩니다. 예를 들어, 다중 페이지 렌더링 대신 시각적 개체 내에서 스크롤을 위한 송장 및 인쇄 합니다.

두 가지 지원 되는 보고서 형식을 선택할 수 있도록 보고서 작성자가 유형을 선택할 수 있도록 요구 사항에 따라 한 용도입니다. 일반적으로 Power BI 보고서는 탐색 하 고 페이지 매긴된 보고서 매개 변수 기반 페이지 레이아웃에 적합 하는 동안 데이터에서 정보를 검색할 수 있도록 허용 하는 대화형 환경에 적합 합니다.

보고서 형식에 관계 없이 (필터 또는 매개 변수 변경 됨) 하는 경우 응답성이 뛰어난 보고서 로드 및 데이터 업데이트를 달성은 안정적이 고 성능이 우수한 사용자 환경을 제공 하는 데 필수적입니다.

#### <a name="dashboards"></a>대시보드

Power BI 대시보드는 모니터링 환경을 제공 하고자 하 고는 개념적으로 Power BI 보고서에서 매우 다릅니다. 대시보드 타일의 값 및 데이터 시각화를 표현 하는 단일 창에 표시 하도록 디자인 되었습니다. 일반적으로 대시보드는 개입 없이 필요 합니다. 일부 대시보드 디자인을 사용 하 여 Power BI 보고서를 보다 더 적은 상호 작용 경험을 제공 합니다. 예를 들어 무인된 대시보드를 서버 룸에 비-터치 화면에 표시 합니다. 또 다른 중요 한 차이점은 대시보드만 단일 데이터 집합에 기반 할 수 있습니다 하는 동안 Power BI의 여러 데이터 집합의 원본 데이터를 보고 하는 타일에 표시 될 수 있습니다는.

신속 하 게 로드 하는 대시보드를 디자인 하 고 항상 최신 데이터 () Power BI 서비스에 전혀 이해 하는 것이 반드시 합니다. 타일 쿼리 결과 캐시 하 여이 작업을 수행 하 고 각 대시보드에서이 작업을 수행 합니다. 사실 동적 RLS를 적용 하는 모델을 기반으로 하는 대시보드에 액세스할 수 있는 각 사용자에 대 한이 작업을 수행 해야 합니다 것입니다.

Power BI 서비스는 Power BI 호스 가져오기 모델 새로 고침 후에 즉시 자동으로 대시보드 쿼리 캐시를 업데이트 합니다. LC 및 DQ 모델의 경우 데이터 집합 소유자는 Power BI 서비스에서 15 분 간격으로 자주 또는 드물게 일주일에 한 번으로 구성할 수 있는 캐시를 업데이트 하는 빈도 대 한 제어 수준을 있습니다. LC 쿼리 캐시 업데이트 여부 확인 하는 모델 새로 고침을 수행한 마지막 캐시 업데이트 이후 새로 고침 이후 발생 하는 경우 캐시를 업데이트 하는 진행 되지 것입니다 모델 메타 데이터를 쿼리 먼저는 note 합니다. 이 검사 DQ 모델용 수 있으며 따라서 캐시 업데이트 발생 여부에 원본 데이터가 변경 되었는지 여부를 합니다.

대시보드 쿼리 캐시 업데이트에 따라 DQ 및 LC 모델 Power BI 서비스 리소스와 외부 데이터 원본에 큰 영향을 줄 수 있습니다. 동적 RLS를 적용 하는 1 시간 마다 새로 고쳐집니다는 및이 대시보드는 100 명의 사용자와 공유 되는 Azure Analysis Services 모델을 기반으로 모든 20 타일이 있는 대시보드를 것이 좋습니다. 을 1 시간 마다 새로 고침 하도록 데이터 집합을 구성한 경우 따라서 (20 x 100) 2000 이상 LC 쿼리 합니다. Power BI 서비스와 외부 데이터 원본에 상당한 부하를 배치할 수 있습니다이 하 고 사용 가능한 리소스에 적용 된 제한을 초과할 수도 수 있습니다. 용량 리소스 제한을 설명 합니다 [용량 노드](#capacity-nodes) 항목입니다.

사용자가 Power BI 서비스 리소스를 필요로 하는 다양 한 방법으로 대시보드를 조작할 수 있습니다. 특히 다음을 수행할 수 있습니다.

- 관련 된 모든 Power BI로 호스팅되는 데이터 가져오기 모델의 요청 시 새로 고침을 개선할 수 있는 대시보드 타일의 새로 고침
- 질문 및 답변 자연어 기능을 질문 (허용 하는 대시보드 디자인 및 데이터 집합은 Power BI로 호스팅되는 데이터 가져오기 모델 또는 질문 및 답변을 사용 하도록 구성 LC 데이터 집합 제공)를 사용 하 여 참여
- Power BI 신속한 정보 활용 기능을 사용 하 여 기본 데이터 집합 및 응답을 표시 하 고 (타일은 Power BI로 호스팅되는 데이터 가져오기 모델 하는 데이터 집합에 따라 결정 되도록 제공)을 설명 하는 시각적 개체에서 정보를 검색할 수
- 대시보드 타일, 필요한 값 수 만큼 자주 시간별-타일에 임계값을 초과 하는 경우 사용자에 게 알려야 임계값을 비교 하려면 Power BI 서비스에 대 한 경고 구성 (타일 단일 숫자 값을 표시 하는 기반으로 제공 하는 Power BI로 호스팅되는 데이터 가져오기 모델에는 데이터 집합의 경우)

### <a name="model-storage-modes"></a>모델 저장소 모드

회수 Power BI Desktop에서 세 가지 모드 중 하나는 모델을 개발할 수 있습니다. 각 데이터 모델 저장소 모드 및 가능한 영향을 Power BI 서비스 리소스에 대 한 이유를 이해 하는 것이 반드시 합니다. 이 섹션에서는 모든 세 가지 모드를 소개 합니다. 이러한 최적화 모델 항목의이 백서 뒷부분에서 자세히 설명 합니다.

#### <a name="import-mode"></a>가져오기 모드

가져오기 모드는 메모리 내 쿼리, 모델러를 사용할 수 있는 디자인 유연성와 관련 된 매우 빠른 성능으로 인해 모델을 개발 하 고 특정 Power BI 서비스 기능 (답변, 신속한 정보 활용에 대 한 지원에 사용 되는 가장 일반적인 모드 등.). 새 Power BI Desktop 솔루션을 만들 때 기본 모드입니다.

가져온된 데이터에 항상 저장 되도록 이해 해야 디스크 및 쿼리 하거나 새로 고쳐야 하는 메모리에 완전히 로드 되어야 합니다. 한 번 가져오기 모델 메모리에서 매우 빠른 쿼리 결과 달성 합니다. 메모리에 부분적으로 로드 되는 가져오기 모델 개념이 이해 해야 이기도 합니다.

를 새로 고칠 때 데이터를 압축 하 고 액세스에 최적화 된 고 VertiPaq 저장소 엔진에 의해 디스크에 저장 됩니다. 10 배 압축을 볼 수는 디스크에서 메모리로 로드 하는 경우 이므로 해당 10GB 원본 데이터의 크기가 약 1GB를 압축할 수는 것입니다. 디스크의 저장소 크기가 이렇게 할 위쪽에서 20% 감소 합니다. \[[6](#endnote-06)\]

세 가지 방법으로 디자인 유연성을 얻을 수 있습니다. 데이터 모델러는 다음 작업을 수행할 수 있습니다.

- 데이터 소스 형식 및 형식에 관계 없이 여러 데이터 소스에서 데이터를 캐시 하 여 데이터를 통합 합니다.
- 데이터 준비 쿼리를 만들 때 파워 쿼리 수식 언어 (비공식적으로 M 라고도 함) 함수의 전체 집합을 활용 합니다.
- 계산된 열, 측정값 및 계산 된 테이블을 사용 하 여 달성 하는 비즈니스 논리를 사용 하 여 모델을 향상 하는 경우 데이터 분석 식 (DAX) 함수의 전체 집합을 활용

다음 그림에 표시 된 것과 같이 가져오기 모델을 다양 한 지원 되는 데이터 원본 유형의 데이터를 통합할 수 있습니다.

![가져오기 모델을 다양 한 지원 되는 데이터 원본 유형의 데이터를 통합할 수 있습니다.](media/whitepaper-premium-deployment/import-model.png)

그러나 가져오기 모델을 사용 하 여 매력적인 장점이 있기는 가지 단점 너무

- 전체 모델을 Power BI에는 모델의 크기와 수 증가 따라 사용 가능한 리소스에서 압력이 배치할 수 있는 모델을 쿼리할 수 전에 메모리에 로드 해야 합니다.
- 모델 데이터를 현재 최신 새로 고침 전용인 및 가급적 일정에 따라 새로 고쳐져 야 가져오기 모델 필요 하므로
- 전체 새로 고침 모든 테이블에서 모든 데이터 제거를 데이터 원본에서 다시 로드 합니다. 시간 및 Power BI 서비스 및 데이터 원본에 대 한 리소스 사용량이 상당히 늘어날 수 있습니다. Power BI는 전체 테이블 잘라내기 및 다시 로드를 방지할 수 있는 증분 새로 고침에 대 한 지원 한 사용에 대해서는이 [Optimizing Power BI-Hosted 모델](#optimizing-power-bi-hosted-models) 항목입니다.

Power BI 서비스 리소스 관점에서 가져오기 모델 필요합니다.

- 쿼리 또는 새로 고칠 때 모델을 로드 하는 데 충분 한 메모리가
- 리소스 및 데이터를 새로 고치려면 추가 메모리 리소스를 처리 합니다.

#### <a name="directquery-mode"></a>DirectQuery 모드

DirectQuery (DQ) 모드에서 개발 하는 모델 데이터를 가져오지 마세요. 대신 구성만 메타 데이터는 경우 문제 데이터 원본에 대 한 기본 쿼리를 쿼리 합니다.

![기본 데이터 원본에 네이티브 쿼리를 실행 하는 DirectQuery 모델](media/whitepaper-premium-deployment/direct-query-model.png)

DQ 모델 개발을 고려해 야 할 두 가지 주요 이유가 있습니다. 첫 번째 이유는 데이터 볼륨이 너무 커서-경우에 데이터 수 감소 메서드에서 적용 되는 모델을 로드 하거나 새로 고치려면 실질적으로 하는 경우입니다. 두 번째 이유는 보고서 및 대시보드 "실시간" 외에 데이터를 예약 된 새로 고침 제한 (48 시간 하루 전용된 용량에 대 한) 내에서 얻을 수 있는 전달 해야 하는 경우입니다.

가지 DQ 모델을 사용 하 여 연결 하는 몇 가지 이점이 있습니다.

- 가져오기 모델 크기 제한이 적용 되지 않습니다.
- 모델 새로 고침 필요 하지 않습니다.
- 보고서 사용자는 보고서 필터 및 슬라이서와 상호 작용할 때 최신 데이터를 볼 수 및 현재 데이터를 검색 하는 전체 보고서를 새로 고칠 수
- 대시보드 타일, DQ 모델을 기반으로 하는 경우 15 분 간격으로 자주 자동으로 업데이트할 수 있습니다.

그러나 다양 한 단점에 DQ 모델을 사용 하 여 연결 된 제한이 있습니다.

- 모델 지원 되는 단일 데이터 원본을 기반으로 해야 합니다을 데이터 원본에서 데이터 통합 이미 달성 해야 하므로. 지원 되는 데이터 소스는 많은 인기 있는 데이터 저장소에 대 한 지원 사용 하 여 관계형 및 분석 시스템이 \[ [7](#endnote-07)\]합니다.
- 성능 (CPU를 많이 쿼리 수 있음) Power BI 서비스에는 데이터 원본 (분석 쿼리에 대 한 최적화 될 수 있습니다)에 잠재적으로 부정적인 영향을 속도가 느릴 수 있습니다.
- Power Query 쿼리 지나치게 복잡 하 게 될 수 없습니다. 되며 M 식 및 함수는 데이터 원본에서 인식 하는 기본 쿼리에 바뀐 수 제한
- DAX 함수는 데이터 원본에서 인식 하는 기본 쿼리에 바뀐 수는 제한 되며 계산 된 테이블 또는 기본 제공 시간 인텔리전스 기능에 대 한 지원 되지 않습니다.
- 기본적으로 1 백만 개 행 검색 해야 하는 모델 쿼리 실패
- 여러 시각적 개체를 사용 하 여 대시보드와 보고서 데이터 원본이 volatile 하는 경우에 특히 일관 되지 않은 결과 표시할 수 있습니다.
- 질문 및 답변 및 신속한 정보 활용 지원 되지 않습니다

Power BI 서비스 리소스 관점에서 DQ 모델 필요합니다.

- 최소 메모리 (메타 데이터에만 해당) 모델을 로드를 쿼리 하는 경우
- 현저한 프로세서 리소스를 생성 하 여 데이터 원본에 전송 하는 쿼리 처리

자세한 내용은 참조는 [Power BI Desktop에서 직접 쿼리를 사용 하 여](desktop-use-directquery.md) 문서.

#### <a name="composite-mode"></a>복합 모드

복합 모드로 개발 모델 개별 모델 테이블에 대 한 저장 모드를 구성할 수 있습니다. 따라서 다양 한 가져오기 및 DQ 테이블을 지원합니다. 또한 여러 DQ 데이터 원본 및 계산 된 테이블 (DAX를 사용 하 여 정의 됨)도 지원 합니다.

테이블 저장소 모드는 Import, DirectQuery 또는 이중으로 구성할 수 있습니다. 이중 저장소 모드로 구성 된 테이블 가져오기 및 DirectQuery 모두 이며 쿼리 by 쿼리 별로 사용 하는 가장 효율적인 모드를 확인 하려면 Power BI 서비스 있습니다.

![복합 모델은 테이블 수준에서 구성 가져오기 및 DQ 저장소 모드의 조합](media/whitepaper-premium-deployment/composite-model.png)

복합 모델 가져오기 및 DirectQuery 모드 중 가장 잘 전달 하기 위해 노력 합니다. 적절 하 게 구성 하는 경우 거의 실시간 데이터 데이터 원본에서 검색 하는 기능을 사용 하 여 메모리 내 모델의 높은 쿼리 성능을 결합할 수 있습니다.

복합 모델을 개발 하는 데이터 모델러는 가져오기 또는 이중 저장소 모드 및 팩트 유형 테이블에 DirectQuery 모드에서 차원 유형을 테이블 구성 가능성이 높습니다. 이중 모드와 DirectQuery 모드에서 Sales 팩트 유형을 테이블에서 Product 차원 유형 테이블을 사용 하 여 모델을 예로 들어 보겠습니다. Product 테이블 빠르고 효율적으로 쿼리할 수 보고서 슬라이서를 렌더링 하는 메모리에에서 있습니다. Sales 테이블 관련된 제품 테이블에 조인 하는 DirectQuery 모드에서 쿼리할 수 있습니다. 두 번째 쿼리는 제품 및 판매 테이블 및 슬라이서 값을 기준으로 필터링을 조인할 단일 효율적인 네이티브 쿼리를 생성할 수 있도록 수 없습니다.

일반적으로 장점 및 단점, 각 모델 모드와 관련 된 복합 모델에서 테이블 저장소 모드에 적용할 간주할 수 있습니다.

자세한 내용은 참조는 [복합 모델을 사용 하 여 Power BI Desktop에서](desktop-composite-models.md) 문서.

### <a name="licensing"></a>라이선싱

Power BI에는 세 가지 라이선스:

- Power BI 무료
- Power BI Pro
- Power BI Premium

합니다 **Power BI 무료** 라이선스는 개별 Power BI 서비스에 로그인 하 여 모델 및 보고서를 게시 하 여 자신의 개인 작업 영역 내에서 작업할 수 있습니다. 이 라이선스를 사용 하 여 Power BI 콘텐츠를 공유할 수 있다는 점을 이해 하는 것이 반드시 합니다. 이 라이선스를 해당 이름에서 알 수 있듯이은 무료입니다.

합니다 **Power BI Pro** 라이센스 만들기 및 앱 작업 영역 내에서 공동 작업 및 공유 및 Power BI를 배포 하는 개별 콘텐츠 수 있습니다. 자동으로 데이터를 유지 하려면 현재 온-프레미스 데이터 원본에서 포함 하 여 데이터 집합에 대 한 새로 고침을 구성할 수도 있습니다. 또한 감사 수 있으며 데이터 액세스 및 사용 되는 방식을 제어. 이 라이선스는 사용자가 Power BI 프리미엄 전용 용량을 사용 하 여 연결 하지 않는 한 다른 사용자의 공유 콘텐츠를 수신 합니다.

합니다 **Power BI 프리미엄** 에 대해서는 설명 하며이 라이선스는 테 넌 트 수준 라이선스를 [Power BI 프리미엄 소개](#introducing-power-bi-premium) 섹션입니다.

Power BI 라이선스에 대 한 자세한 내용은 참조는 [Power BI 가격 책정](https://powerbi.microsoft.com/pricing/) 페이지입니다.

## <a name="introducing-power-bi-premium"></a>Power BI 프리미엄 소개

Power BI 프리미엄은 확장성, 신뢰할 수 있는 성능 및 예측 가능한 비용을 사용 하 여 통합 된 셀프 서비스 및 엔터프라이즈 BI 플랫폼을 제공합니다. 이 주로이 해시 킴으로써 조직용 Power BI 서비스를 실행 하는 전용된 리소스를 제공 합니다.

또한 Power BI 프리미엄은 많은 엔터프라이즈 기능을 제공합니다.

- 외부 사용자를 포함 하 여 무제한 Power BI 무료 사용자에 게 Power BI 콘텐츠 공유를 사용 하는 비용 효율적인 콘텐츠 배포
- 더 큰 데이터 집합 크기에 대 한 지원을 \[ [8](#endnote-08)\]
- 데이터 흐름 및 데이터 집합 (하루에 최대 48 회) 더 높은 새로 고침 비율
- 데이터 흐름 및 데이터 집합의 증분 새로 고침
- 데이터 흐름에 연결 된 엔터티 및 변환의 병렬 실행
- 페이지가 매겨진 보고서
- 온-프레미스 보고에 대 한 power BI Report Server
- 앱 사용자 (PaaS) 대신 하 여 앱에 콘텐츠를 포함 하는 기능

이러한 기능을 많이 활용 효율적이 고 확장성이 뛰어난 엔터프라이즈 솔루션을 제공 하 여 및에 설명 되어는 [프리미엄 용량 최적화](#optimizing-premium-capacities) 섹션입니다.

### <a name="subscriptions-and-licensing"></a>구독 및 라이선스

Power BI 프리미엄은 Office 365 테 넌 트 수준 구독 두 SKU (Stock Keeping Unit) 제품군에서 사용할 수 있습니다.

- **EM** Sku ((em1-EM3)를 포함 하기 위해 필요한 연간 약정을 매월 청구 합니다.
- **P** 월간 또는 연간 약정이 필요 포함 및 엔터프라이즈 기능에 대 한 Sku (P1-P3) 매달 요금이 청구 및 Power BI Report Server 온-프레미스 설치에 대 한 라이선스가 포함 되어 있습니다.

또 다른 방법은 단일 SKU 제품군에는 Power BI Embedded Azure 구독을 구매 합니다. **A** 포함 및 테스트 전용 용량에 대 한 Sku (A1-A6).

모든 Sku 용량을 만들려는 v 코어를 제공 \[ [9](#endnote-09)\], EM Sku를 포함 하는 더 작은 크기 조정에 대 한 제한 되지만 합니다. 이 백서에서는 초점은 P Sku를 설명 하는 내용의 많은 A Sku와도 관련이 합니다.

Premium 구독 달리 Sku, Azure Sku 시간 약정 없이 필요 및 시간당 요금이 청구 됩니다. 이러한 확장을 사용 하도록 설정 하는 전체 탄력성을 제공, 축소, pause, resume 및 삭제 합니다.

Azure Power BI Embedded 범위를 벗어납니다 주로이 백서의 있지만 테스트 하 고 워크 로드를 측정 실용적이 고 경제적인 옵션으로 테스트 방법 항목에서 설명 됩니다.

Azure Sku에 대 한 자세한 내용은 참조는 [Azure Power BI Embedded 설명서](/azure/power-bi-embedded/)합니다.

Power BI Premium subscriptions는 Microsoft 365 관리 센터에서 관리자가 구입 합니다. 특히, Office 365 전역 관리자 또는 대금 청구 관리자만 Sku를 구입할 수 있습니다.

구입 하면, 테 넌 트를 해당 수 용량-할당할 v 코어를 받는 이라고 **v 코어 풀링을**합니다. 예를 들어 P3 SKU를 구매 32v-코어를 사용 하 여 테 넌 트를 제공 합니다.

자세한 내용은 참조는 [Power BI 프리미엄 구매 방법](service-admin-premium-purchase.md) 문서.

### <a name="premium-capacities"></a>프리미엄 용량

다른 고객과 공유 하는 계산 리소스에서 워크 로드 실행 위치 공유 용량 달리를 **전용 용량** 조직에서 배타적으로 사용입니다. 호스팅된 콘텐츠에 대 한 신뢰할 수 있는 및 일관 된 성능을 제공 하는 전용된 계산 리소스를 사용 하 여 격리 됩니다.

이 백서에서는 포커스가 **프리미엄 용량** , EM 또는 P Sku와 연결 된 의미 합니다.

#### <a name="capacity-nodes"></a>용량 노드

구독 및 라이선스 항목에 설명 된 대로 Power BI Premium SKU 제품군을 두 가지 있습니다. EM 클러스터링과 P. 모든 Power BI Premium Sku는 각각 나타내는 집합 양의 프로세서, 메모리 및 저장소 구성 된 리소스를 사용 하 여 용량 노드로만 사용할 수 있습니다. 리소스와 함께 각 SKU 초당 DirectQuery (DQ) 및 라이브 연결 (LC) 연결 수에 대 한 운영 상의 제한 하 고 병렬 모델 수가 새로 고칩니다.

처리는 개수의 v 코어, 프런트 엔드 및 백 엔드 간에 동일 하 게 분할 하 여 이루어집니다.

**백 엔드 v 코어** 처리, 캐시 관리, R services, 모델 새로 고침, 자연어 처리 (Q & A) 및 보고서 및 이미지의 서버 쪽 렌더링을 실행 하는 쿼리를 비롯 한 핵심 Power BI 기능을 담당 합니다. 백 엔드 v 코어는 기본 호스트 모델은 활성 데이터 집합 라고도 하는 데 사용 하는 메모리의 일정량을 할당 됩니다.

**프런트 엔드 v 코어** 는 웹 서비스, 대시보드 및 보고서 문서 관리, 액세스 권한 관리, 예약, Api, 업로드, 다운로드 하며 일반적으로 사용자와 관련 된 모든 항목에 대 한 환경에 대 한 책임이 있습니다.

저장소 용량 노드당 100TB로 설정 됩니다.

리소스 및 각 프리미엄 SKU의 제한 (및 SKU를 동등 하 게 크기)는 다음 표에 설명 되어 있습니다.

| 용량 노드 | 총 V 코어 | 백 엔드 V 코어 | RAM (GB) | 프런트 엔드 V 코어 | DQ/LC (초당) | 모델 새로 고침 병렬 처리 |
| --- | --- | --- | --- | --- | --- | --- |
| EM1/A1 | 1 | 0.5 | 2.5 | 0.5 | 3.75 | 1 |
| EM2/A2 | 2 | 1 | 5 | 1 | 7.5 | 2 |
| EM3/A3 | 4 | 2 | 10 | 2 | 15 | 3 |
| P1/A4 | 8 | 4 | 25 | 4 | 30 | 6 |
| P2/A5 | 16 | 8 | 50 | 8 | 60 | 12 |
| P3/A6 | 32 | 16 | 100 | 16 | 120 | 24 |
| | | | | | | |

#### <a name="capacity-workloads"></a>용량 워크 로드

용량 워크 로드는 사용자에 게 제공 하는 서비스입니다. 기본적으로 Premium 및 Azure 용량 해제할 수 없는 Power BI 쿼리 실행과 관련 된 데이터 집합 작업만을 지원 합니다.

페이지 매긴된 보고서, 데이터 흐름, 및 AI에 대 한 추가 워크 로드를 사용할 수 있습니다. 각 추가 워크 로드는 워크 로드에서 사용할 수 있는 최대 메모리 (총 사용 가능한 메모리 비율로)를 구성 해야 합니다.

#### <a name="how-capacities-function"></a>용량 작동 하는 방법

모든 시간에 Power BI 서비스는 용량에 부과 된 한도 초과 하지 않는 리소스 용량을 최대한 활용 하 게 하려고 합니다.

용량 작업 중 하나로 분류는 대화형 또는 배경입니다. 대화형 작업 요청 렌더링과 사용자 상호 작용 (필터링, 질문 및 답변 쿼리 등)에 대 한 응답에 포함 됩니다. 일반적으로 가져오기 모델 쿼리 LC/DQ 모델 쿼리는 CPU를 많이 사용 하는 동안 메모리 리소스를 많이 사용 됩니다. 백그라운드 작업이 데이터 흐름을 포함 하 고 모델 새로 고침 및 대시보드 쿼리 캐시를 가져옵니다.

대화형 작업 항상 최상의 사용자 환경을 보장 하려면 백그라운드 작업 보다 우선적으로 이해 하는 것이 반드시 합니다. 리소스가 부족 한 경우 백그라운드 작업은 리소스를 확보 하는 경우 처리에 대 한 큐에 추가 됩니다. 백그라운드 작업을 데이터 집합 새로 고침 및 AI 함수와 마찬가지로 Power BI 서비스에서 프로세스 중간에 중지 되며 큐에 추가 합니다.

가져오기 모델 쿼리 하거나 새로 고칠 수 있도록 메모리에 완전히 로드 해야 합니다. Power BI 서비스 관리 메모리를 사용 하 여 정교한 알고리즘 사용 가능한 메모리의 최대 사용 되도록 사용량과 용량을 커밋하 얻을 수 있습니다. 많은 가져오기 저장 용량 모델 (프리미엄 용량 당 최대 100TB)에 대 한 수 있지만 지원 되는 메모리를 초과 하는 결합 된 디스크 저장소 (및 추가 메모리가 필요한 쿼리 및 새로 고침) 하는 경우 다음 모두 로드할 수 없습니다 메모리 위치에 동일한 시간입니다.

따라서 가져오기 모델-로드 되며-사용량에 따라 메모리에서 제거 합니다. 가져오기 모델을 쿼리 (대화형 작업) 및 아직 메모리에 또는 때 새로 고칠 때 로드 됩니다 (백그라운드 작업).

메모리에서 모델의 제거 라고 **제거** , Power BI 모델의 크기에 따라 신속 하 게 수행할 수 있는 작업을 것입니다. 용량 모든 메모리 압력을 발생 하지는 단순히 메모리에 로드 된 모델과 남아 있습니다. \[[그러나 10](#endnote-10) \] 메모리가 부족 하 여 모델을 로드 하는 사용 가능한 경우 Power BI 서비스는 먼저 메모리를 확보 합니다. 비활성화 된 마지막 3 분 간격으로 사용 되지 않은 모델을 검색 하 여 모델을 감지 하 여 메모리 확보 \[ [11](#endnote-11)\], 다음 제거 하 고 있습니다. 제거 하려면 비활성 없는 모델의 경우 Power BI 서비스를 백그라운드 작업에 대 한 로드 되는 모델을 제거 하려면 검색 합니다. 이 AI 워크 로드와 같은 백그라운드 작업의 제거를 포함할 수 있습니다. 실패 한 시도의 30 초 후 최후의 \[ [11](#endnote-11)\], 대화형 작업이 실패 하는 것입니다. 이 경우 보고서 사용자가 정상적으로 잠시 후 다시 시도 하려면을 사용 하 여 오류의 알려집니다.

데이터 집합 제거가 정상적으로 예상 된 동작을 강조 하는 것이 반드시 합니다. 이 로드 및 언로드 결합 된 크기가 사용 가능한 메모리를 초과할 수 있습니다 하는 모델의 메모리 사용량 극대화 하려고 합니다. 이 기본적으로 보고서 사용자에 게 완전히 투명 하 게 있습니다. 높은 제거 율 의미 하지는 않습니다 반드시 용량 하지 정보 충분히 됩니다. 그러나 쿼리 또는 새로 고침 응답성 높은 제거 요금으로 인해 저하 되는지 하는 경우에 문제가 될 수 있습니다.

모델 메모리에 로드 해야 하 고 추가 메모리가 필요한 처리에 대 한 가져오기 모델의 새로 고침은 항상 메모리 집약적 가상 컴퓨터입니다. 전체 새로 고침을 모델에 필요한 메모리 양의 2 배 정도 사용할 수 있습니다. 이렇게 하면 처리 중인 경우에 모델을 쿼리할 수 있습니다 (쿼리 새로 고침 완료 되 고 새 모델 데이터를 사용할 때까지 기존 모델에 전송 됩니다). 증분 새로 고침 더 빠르게 완료할 수 없습니다 및 따라서 용량 리소스에 대 한 압력을 줄일 수 있는 메모리를 적게 해야 note 합니다. 새로 고침 CPU를 많이 사용 될 수도 있습니다 모델에 대 한 복잡 한 변환을 파워 쿼리 또는 계산 된 테이블/열을 사용 하 여 특히는 복잡 하거나 큰 테이블을 기반으로 합니다.

새로 고침-쿼리처럼-모델을 메모리에 로드할 수는 필요 합니다. 메모리가 부족 한 경우 Power BI 서비스 비활성 모델을 제거 하려고 하 고 (모든 모델은 활성) 수 없는 경우 새로 고침 작업을 큐에 대기 됩니다. 새로 고침은 일반적으로 CPU를 많이, 더 그러한 쿼리보다 합니다. 따라서 백 엔드 v 코어, 반올림의 수를 곱한 1.5로 설정 하는 동시 새로 고침 수에 용량 제한이 있습니다. 너무 많은 동시 새로 고침의 경우 예약된 된 새로 고침 대기 됩니다. 이러한 경우 발생 하는 경우 새로 고침이 완료 오래 걸립니다. 요청 시 새로 고침 (사용자 요청 또는 API 호출에 의해 트리거되) 세 번 다시 시도 참고 \[ [11](#endnote-11)\], 없는 경우 여전히 충분 한 리소스가 실패 합니다.

## <a name="managing-power-bi-premium"></a>Power BI 프리미엄 관리

Power BI 프리미엄 관리 구독을 구매 하 고 만들기, 관리 및 프리미엄 용량을 모니터링 해야 합니다.

### <a name="creating-and-managing-capacities"></a>만들기 및 용량 관리

**용량 설정** 페이지를 **Power BI 관리자** 구매 v 코어 수 및 사용할 수 있는 포털에 표시 됩니다 (즉, 용량에 할당 하) 프리미엄 용량을 나열 합니다. 페이지에서 Office 365 전역 관리자 또는 Power BI 서비스 관리자를 프리미엄 용량에서 사용 가능한 v 코어를 만들거나 기존 프리미엄 용량을 수정할 수 있습니다.

프리미엄 용량을 만들 때 관리자는 정의 해야 합니다.

- 용량 이름 (테 넌 트 내에서 고유)
- 용량 관리자에 게
- 용량 크기
- 데이터 상주에 대 한 지역을 \[ [12](#endnote-12)\]

하나 이상의 용량 관리자로 할당 되어야 합니다. 용량 관리자로 할당 된 사용자는 다음 작업을 수행할 수 있습니다.

- 용량에 작업 영역 할당
- 추가 용량 관리자 또는 할당 권한이 있는 (용량에 작업 영역을 할당할 수 있도록) 사용자를 추가 하려면 사용자 권한 관리
- 페이지 매긴된 보고서 및 데이터 흐름 작업에 대 한 최대 메모리 사용량을 구성 하려면 워크 로드 관리
- 시스템 오버 로드의 경우 모든 작업을 다시 설정 하 고 용량을 다시 시작 \[ [13](#endnote-13)\]

용량 관리자 (하지 않는 한 작업 영역 권한이 명시적으로 할당) 작업 영역 콘텐츠를 액세스할 수 없습니다 하 고 없는 모든 Power BI 관리자 영역에 대 한 액세스 (할당 되지 않는 한 명시적으로) 사용 현황 메트릭, 감사 로그 또는 테 넌 트 설정과 같은 키를 누릅니다. 중요 한 점은 용량 관리자에는 새 용량을 만들거나 기존 용량을 확장할 수 있는 권한이 없습니다. 에 할당 되는 또한는 용량 기반으로만 수 있다는 보장 당 보기 및 할당 된 용량을 관리 합니다.

용량 크기 풀의 사용 가능한 v 코어의 수로 제한 되는 사용 가능한 SKU 옵션 목록에서 선택 해야 합니다. 하나에서 제공 될 수 있는 풀에서 여러 가지 역할을 만들 수 또는 더 구입할 Sku입니다. 예를 들어 P3 SKU (32v-코어) 세 가지 용량을 만드는 데 사용할 수 없습니다: 하나의 P2 (16v-코어), 두 P1 및 (2 x 8 개 v 코어). 성능 및 확장성 향상 더 작은 크기의 용량을 만들어 수행할 수 있습니다 하 고이 항목에 설명 되어는 [프리미엄 용량 최적화](#optimizing-premium-capacities) 섹션입니다. 다음 이미지는 5 개의 프리미엄 용량으로 구성 된 가상의 Contoso 조직에 대 한 설정의 예제를 보여줍니다 (P1 및 2 x 3 x P3) 각 포함 앱 작업 영역 및 공유 용량에서 여러 작업 영역을 사용 하 여 합니다.

![가상의 Contoso 조직에 대 한 설정의 예제](media/whitepaper-premium-deployment/contoso-organization-example.png)

Power BI 테 넌 트를 Power BI 콘텐츠 (내에서 정의 된 지역)는 데이터 센터를 통해 상주 하는 관리 제어를 제공 하는 홈 지역이 아닌 지역에 프리미엄 용량을 할당할 수 있습니다. \[[12](#endnote-12)\]

Power BI 서비스 관리자 및 Office 365 전역 관리자는 프리미엄 용량을 수정할 수 있습니다. 특히 다음을 수행할 수 있습니다.

- 강화 또는 규모 축소 리소스 용량 크기를 변경 합니다. 그러나 P SKU는 EM SKU로 다운 그레이드 하거나 그 반대의 경우 업그레이드할 수 없는 합니다.
- 추가 또는 제거 용량 관리자
- 할당 권한이 있는 사용자 추가 또는 제거
- 추가 하거나 추가 워크 로드를 제거 합니다.
- 지역 변경

할당 권한은 특정 프리미엄 용량에 작업 영역을 할당 해야 합니다. 전체 조직, 특정 사용자 또는 그룹에 권한은 부여할 수 있습니다.

기본적으로 프리미엄 용량 Power BI 쿼리 실행과 관련 된 워크 로드를 지원 합니다. 또한 세 가지 추가 워크 로드를 지원합니다. **보고서 페이지를 매긴**, **데이터 흐름**, 및 **AI**합니다. 각 워크 로드는 워크 로드에 따라 사용할 수 있는 최대 메모리 (사용 가능한 총 메모리의 백분율)로 구성 해야 합니다. 최대 메모리 할당을 늘릴 수 호스팅될 수 있는 활성 모델 수 및 새로 고침의 처리량에 미치는 영향을 이해 하는 것이 반드시 합니다.

메모리는 데이터 흐름에는 동적으로 할당되지만 페이지를 매긴 보고서에는 정적으로 할당됩니다. 최대 메모리를 정적으로 할당 하는 것에 대 한 이유는 페이지 매긴된 보고서의 용량이 포함 된 보안된 공간 내에서 실행입니다. 모델을 로드 하기 위한 사용 가능한 메모리 줄어들면 설정은 보고서 메모리를 매길 때 주의 해야 합니다.

|                     | EM3                      | P1                       | P2                      | P3                       |
|---------------------|--------------------------|--------------------------|-------------------------|--------------------------|
| 페이지가 매겨진 보고서 | 해당 없음 | 기본값 20%, 최솟값 10% | 기본값 20%, 최솟값 5% | 기본값 20%, 최솟값 2.5% |
| 데이터 흐름 | 기본값 20%, 최솟값 8%  | 기본값 20%, 최솟값 4%  | 기본값 20%, 최솟값 2% | 기본값 20%, 최솟값 1%  |
| AI | 해당 없음 | 20% 기본; 최소 20%  | 기본값 20%, 최솟값 10% | 기본값 20%, 최솟값 5%  |
| | | | | |

프리미엄 용량 삭제 수 있으며 해당 작업 영역 및 콘텐츠 삭제 되지 않습니다. 대신 모든 할당 된 작업 영역 공유 용량으로 이동 됩니다. 다른 지역에서 프리미엄 용량을 만들 때 작업 영역 홈 영역의 공유 용량으로 이동 됩니다.

### <a name="assigning-workspaces-to-capacities"></a>용량에 작업 영역 할당

작업 영역에서 프리미엄 용량에 할당할 수 있습니다 합니다 **Power BI 관리자** **포털** 또는 앱 작업 영역에 대 한-합니다 **작업 영역** 창.

용량 관리자 뿐만 아니라 Office 365 전역 관리자 또는 Power BI 서비스 관리자를 대량으로 수에서 작업 영역을 할당 합니다 **Power BI 관리자** **포털**합니다. 대량 할당 적용할 수 있습니다.

- **사용자가 작업 영역** : 개인 작업 영역을 포함 한 해당 사용자가 소유한 모든 작업 영역을 프리미엄 용량에 할당 됩니다. 이미 다른 프리미엄 용량에 할당 될 때 작업 영역 다시 할당이 포함 됩니다. 또한 사용자도 작업 영역 할당 권한이 할당 됩니다.

- **특정 작업 영역**
- **전체 조직의 작업 영역** : 개인 작업 영역을 포함 하 여 모든 작업 영역을 프리미엄 용량에 할당 됩니다. 또한 모든 현재 및 미래의 사용자 작업 영역 할당 권한이 할당 됩니다. \[[14](#endnote-14)\]

사용 하 여 작업 영역을 프리미엄 용량에 추가할 수 있습니다 합니다 **작업 영역** 사용자 작업 영역 관리자 창과 권한이 할당 합니다.

![작업 영역을 프리미엄 용량에 할당 하려면 작업 영역 창 사용](media/whitepaper-premium-deployment/assign-workspace-capacity.png)

작업 영역 관리자는 할당 권한을 요구 하지 않고 (공유 용량)를 용량에서 작업 영역을 제거할 수 있습니다. 공유 용량에 작업 영역을 재배치 전용된 용량에서 작업 영역을 효과적으로 제거 합니다. 프리미엄 용량에서 작업 영역을 제거 합니다. 예를 들어, Power BI 무료 사용할 수 없게 되는 공유 콘텐츠의 결과 부정적인 결과가 발생 있을 수는 사용이 허가 된 사용자 또는 예약 된 새로 고침 일시 중단이 지원의 허용 한도 초과 하는 경우 공유 용량입니다.

Power BI 서비스에서 프리미엄 용량에 할당 하는 작업 영역을 쉽게 작업 영역 이름을 보여 다이아몬드 아이콘으로 식별 됩니다.

![프리미엄 용량에 할당 하는 작업 영역을 식별 합니다.](media/whitepaper-premium-deployment/premium-diamond-icon.png)

### <a name="monitoring-capacities"></a>용량 모니터링

프리미엄 용량을 모니터링 용량을 수행 하는 방법을 알고 있는 상태 관리자를 제공 합니다. 사용 하 여 용량을 모니터링할 수 있습니다 합니다 [Power BI Premium 용량 메트릭을 앱](service-admin-premium-monitor-capacity.md) 또는 [Power BI 관리 포털](service-admin-premium-monitor-portal.md)합니다.

#### <a name="interpreting-metrics"></a>메트릭을 해석

메트릭은 리소스 사용량 및 워크 로드 작업에 대 한 기준을 이해를 설정 하려면 모니터링 해야 합니다. 용량 저하 되 면 모니터링 메트릭을 알아야 이므로 결론 할 수 있습니다.

이상적으로 쿼리는 보고서 사용자에 게 응답성이 뛰어난 환경을 제공 하 고 더 높은 쿼리 처리량을 사용 하도록 설정 하는 초 이내에 완료 해야 합니다. 이 일반적으로 작은 문제 경우 새로 고침 등-백그라운드 프로세스를 완료 하려면 시간이 길어집니다.

일반적으로 느린 보고서 과열 용량을 표시 될 수 있습니다. 보고서 로드에 실패 하면이 용량을 과도 하 게가 열된을 나타냅니다. 두 경우 모두 근본 원인을 비롯 한 많은 요인에 영향을 주는 수 있습니다.

- **쿼리 실패 한** 확실히 메모리 압력을 나타내는 및 모델을 메모리에 로드할 수 없습니다. Power BI 서비스는 실패 하기 전까지 30 초에 대 한 모델을 로드 하려고 합니다.

- **과도 한 쿼리 대기 시간** 몇 가지 이유 때문일 수 있습니다.
  - 첫 번째는 Power BI 서비스에 대 한 필요 모델을 제거 하 고 쿼리 하려는 모델 (회수만 더 높은 데이터 집합 제거 속도 용량 스트레스 표시 긴 쿼리 대기 시간이 메모리 쓰 래 싱을 나타내는 동행 하지 않으면)를 로드
  - 모델 로드 시간이 (특히 큰 모델을 메모리에 로드 대기)
  - 장기 실행 쿼리
  - 너무 많은 LC\DQ 연결 (용량 한도 초과)
  - CPU 포화
  - (각 시각적 개체는 쿼리는 재현 율) 페이지에서 시각적 개체 수가 너무 복잡 한 보고서 디자인
- **장기 쿼리 기간** 모델 디자인은 최적화 되지 않도록, 여러 데이터 집합의 용량을 활성화 되며 하나의 데이터 집합 쿼리 기간 시간을 생성 하는 경우에 특히 나타낼 수 있습니다. 이 용량 정보 충분히는, 이며 질문에서 데이터 집합만 느리거나 최적 제안 합니다. 다른 프로세스에 필요한 리소스에 대 한 액세스를 차단할 수는 장기 실행 쿼리 문제가 될 수 있습니다.
- **AI 호출 대기 시간 또는 대기 시간이 긴 새로 고침** 메모리를 사용 하는 여러 활성 모델 인해 메모리 부족을 나타내거나 새로 고칩니다 (병렬 새로 고침 제한 초과) 다른 문제가 있는 새로 고침을 차단 됩니다.

메트릭을 사용 하는 방법에 대 한 자세한 설명은 다음 설명 된 [프리미엄 용량 최적화](#optimizing-premium-capacities) 섹션입니다.

## <a name="optimizing-premium-capacities"></a>프리미엄 용량 최적화

프리미엄 용량 성능 문제가 발생 하는 경우 최적화 하거나 적절 한 응답 시간을 복원 하는 이미 배포 된 솔루션을 조정 하는 일반적인 첫 번째 방법이입니다. 재정의 설명 보증할 수 있으므로 하지 않으면 추가 프리미엄 용량 구입을 방지 하기 위해서입니다.

추가 프리미엄 용량이 필요한 경우 두 가지 옵션이 있습니다이 섹션에서 나중에 논의 합니다.

- 프리미엄 용량 강화
- 새 프리미엄 용량 추가

마지막으로, 프리미엄 용량 크기 조정 및 접근 방법을 테스트이 섹션에서는 게 종료 됩니다.

### <a name="general-best-practices"></a>일반 모범 사례

가장을 달성 하기 위해 노력 하는 경우 사용률 성능이 일반 권장 사항으로 보드에서 수행할 수 있는 몇 가지 모범 사례입니다. 내용은 다음과 같습니다.

- 앱 작업 영역을 사용 하 여 개인 작업 영역 대신
- 다른 용량에 중요 한 비즈니스 및 셀프 서비스 BI (SSBI) 구분

  ![다른 용량에 중요 한 비즈니스 및 셀프 서비스 BI를 분리](media/whitepaper-premium-deployment/separate-capacities.png)

- Power BI Pro 사용자만 사용 하 여 콘텐츠를 공유 하는 경우 전용된 용량에 콘텐츠를 저장 하지 않아도 수 있습니다.
- 특정 새로고침 시간 등을 달성 하거나 특정 기능이 필요한, 예를 들어 큰 데이터 집합이 나 reporting 페이지를 매긴 전용된 용량 사용

### <a name="addressing-common-questions"></a>일반적인 질문을 주소 지정

Power BI 프리미엄 배포를 최적화 워크 로드 요구 사항, 사용 가능한 리소스 및 해당 효과적으로 사용 이해를 관련 된 복잡 한 항목입니다.

이 항목에서는 발생 가능한 문제 및 설명 및 식별 하 고 해결 하는 방법에 대 한 정보를 설명 하는 일반적인 7 지원 질문을 해결 합니다.

#### <a name="why-is-the-capacity-slow-and-what-can-i-do"></a>느린 용량 이며 수행할 수 있는 이유는?

느린 프리미엄 용량에 기여할 수 있는 방법은 여러 가지가 있습니다. 이 질문 이란 느린에 관한 정보를 더 합니다. 보고서가 느리게 로드? 또는 로드 실패는? 보고서 시각적 개체를 로드 하거나 사용자가 보고서를 조작할 때 업데이트 느린? 새로 고침 완료 하거나 이전에 발생 하는 보다 오래 걸리면?

알아보았으므로 이유에 시작할 수 있습니다 다음 조사 합니다. 다음 6 개 질문의 응답이 더 해결 하는 데 도움이 됩니다 특정 문제입니다.

#### <a name="what-content-is-using-up-my-capacity"></a>콘텐츠 내 용량 사용 하는?

사용할 수는 **Power BI Premium 용량 메트릭을** 용량으로 필터링 하 고 작업 영역의 콘텐츠에 대 한 성능 메트릭을 검토할 앱. 프리미엄 용량 내에 저장 된 모든 콘텐츠에 대 한 지난 7 일에 대 한 시간별 성능 메트릭 및 리소스 사용량을 검토 하는 것이 가능 합니다. 이 방식은 프리미엄 용량/성능에 대 한 일반적인 문제를 해결 하는 경우에 수행할 첫 번째 단계입니다.

주요 메트릭을 모니터링 하는 다음과 같습니다.

- 평균 CPU 사용률이 높은 결정과
- 평균 메모리 및 높은 사용률 개수 및 특정 데이터 집합, 데이터 흐름 및 페이지가 매겨진된 보고서에 대 한 메모리 사용량
- 메모리에 로드 하는 활성 데이터 집합
- 평균 및 최대 쿼리 기간
- 평균 쿼리 대기 시간
- 평균 데이터 집합 및 데이터 흐름에 번 새로 고침
- 평균 AI 번 호출 및 대기 시간

또한 Power BI Premium 용량 메트릭을 앱에 활성 메모리 총 마지막 3 분 간격으로 사용 중 이므로 제거할 수 없습니다 하는 보고서에 할당 된 메모리 양을 보여 줍니다. 큰 및/또는 활성 데이터 집합을 사용 하 여 높은 새로 고침 대기 시간 급증을 상관 될 수 없습니다.

"상위 5에서 평균 기간" 차트에는 상위 5 개 데이터 집합, 페이지 매긴된 보고서, 데이터 흐름, 및 용량 리소스를 소비 하는 AI 호출 강조 표시 합니다. 상위 5 개 목록의 콘텐츠는 조사 및 가능한 최적화 합니다.

#### <a name="why-are-reports-slow"></a>느린 보고서 이유는 무엇 인가요?

다음 표에서 발생 가능한 문제 및 식별 하 고 처리 하는 방법을 보여 줍니다.

##### <a name="insufficient-capacity-resources"></a>용량이 부족 리소스

| 가능한 설명 | 식별 하는 방법 | 해결 방법 |
| --- | --- | --- |
| 높은 총 활성 메모리 (모델 수 없습니다. 마지막 3 분 이내에 사용 중이기 때문에 제거 됨)<br><br> 여러 높은 쿼리 대기 시간 급증<br><br> 여러 높은 새로 고침 대기 시간이 급증 | 메모리 메트릭을 모니터링할 \[ [18](#endnote-18)\], 및 제거 개수 \[ [19](#endnote-19)\] | 모델 크기를 줄일 또는 DirectQuery 모드로 변환-참조를 [최적화 모델](#optimizing-models) 이 단원의 항목에서는<br><br> 용량 강화<br><br> 다른 용량에 콘텐츠 할당 |

##### <a name="inefficient-report-designs"></a>비효율적인 보고서 디자인

| 가능한 설명 | 식별 하는 방법 | 해결 방법 |
| --- | --- | --- |
| 보고서 페이지 (시각적 개체당 하나 이상의 쿼리 트리거할 수 대화형 필터링) 하는 다양 한 시각적 개체를 포함 합니다.<br><br> 필요한 것 보다 더 많은 데이터를 검색 하는 시각적 개체 | 보고서 디자인 검토<br><br> 보고서 사용자가 보고서와 함께 작용 하는 방법을 이해 하 인터뷰<br><br> 데이터 집합 쿼리 메트릭 모니터링 \[ [20](#endnote-20)\] | 페이지당 더 적은 시각적 개체를 사용 하 여 보고서 디자인 |

##### <a name="dataset-slow-especially-when-reports-have-previously-performed-well"></a>데이터 집합 (특히 경우 보고서 이전에 수행한 잘) 저하

| 가능한 설명 | 식별 하는 방법 | 해결 방법 |
| --- | --- | --- |
| 점점 더 많은 양의 데이터 가져오기<br><br> 복잡 하거나 비효율적인 계산 논리를 RLS 역할 포함<br><br> 완전히 액세스에 최적화 된 모델<br><br> (DQ/LC) 게이트웨이 대기 시간<br><br> 느린 DQ 원본 쿼리 응답 시간 | 모델 디자인 검토<br><br> 게이트웨이 성능 카운터를 모니터링 합니다. | 참조 된 [최적화 모델](#optimizing-models) 이 단원의 항목에서는 |

##### <a name="high-concurrent-report-usage"></a>높은 동시 보고서 사용

| 가능한 설명 | 식별 하는 방법 | 해결 방법 |
| --- | --- | --- |
| 높은 쿼리 대기 시간<br><br> CPU 포화<br><br> DQ/LC 연결 제한을 초과 | CPU 사용률 모니터링 \[ [21](#endnote-21)\], 쿼리 대기 시간 및 DQ/LC 사용률 \[ [22](#endnote-22) \] 메트릭 + 쿼리 기간-변동 수 있는 경우 동시성 문제를 나타냅니다 | 용량을 확장 하거나 다른 용량에 콘텐츠 할당<br><br> 페이지당 더 적은 시각적 개체를 사용 하 여 보고서 디자인 |

#### <a name="why-are-reports-not-loading"></a>이유는 보고서가 로드 되지 않고?

보고서 로드에 실패 하는 경우 최악의 경우, 및 용량에 메모리가 부족 하 고 과도 하 게가 열은 표시 됩니다. 로드 된 모든 모델 적극적으로 쿼리 되 고 있으므로 제거할 수 없습니다, 그리고 및 새로 고침 작업을 일시 중지 되었거나 지연 하는 경우 발생할 수 있습니다. Power BI 서비스는 30 초 동안 데이터 집합을 로드 하려고 하 고 사용자 잠시 후 다시 시도 하 여 오류에 정상적으로 알려 줍니다.

현재는 오류를 로드 하는 보고서에 대 한 모니터링 메트릭이 없습니다. 모니터링 시스템 메모리, 특히 높은 사용률 및 최고 사용률 시간 기준으로이 문제에 대 한 가능성을 식별할 수 있습니다. 장기 데이터 집합의 새로 고침 평균 대기 시간 및 높은 데이터 집합에 대 한이이 문제가 발생 함을 제안 수 없습니다.

매우 가끔씩만 이런 우선 순위 문제를 하지 간주 수 있습니다. 보고서 사용자는 서비스 이므로 잠시 후 다시 시도해 야 하는 내용 알림이 표시 됩니다. 이 너무 자주 경우 프리미엄 용량 확장 하 여 하거나 다른 용량에 콘텐츠를 할당 하 여 문제를 해결할 수 있습니다.

용량 관리자 (및 서비스 관리자 Power BI)를 모니터링할 수는 **Query Failures** 이런 경우를 결정 하는 메트릭. 또한 시스템 오버 로드의 경우 모든 작업을 다시 설정 하 고 용량을 다시 시작할 수 있습니다.

#### <a name="why-are-refreshes-not-starting-on-schedule"></a>이유는 새로 고침 시작 되지 않는 일정에 따라?

예약 된 새로 고침 시작 시간을 보장 되지 않습니다. Power BI 서비스는 백그라운드 작업 보다 대화형 작업을 우선 항상 회수 합니다. 새로 고침은 두 조건이 충족 될 때 발생할 수 있는 백그라운드 작업:

- 충분 한 메모리가
- 프리미엄 용량에 대해 지원 되는 동시 새로 고침의 개수를 초과 하지 않습니다.

조건이 충족 되지 않는 경우 새로 고침에 조건이 편리 하 게 될 때까지 대기 중입니다.

전체 새로 고침을 회수 하는 데이터 집합의 현재 메모리 크기를 두 번 이상 필요 합니다. 충분 한 메모리를 사용할 수 없는 경우 모델 제거 메모리를 확보-하나 이상의 데이터 집합 비활성화 되 고 제거할 수 있습니다 때까지 지연 즉 되어야만 새로 고침을 시작할 수 없습니다.

지원 되는 최대 동시 새로 고침 수 1.5 배를 백 엔드 v 코어, 반올림로 설정 되어 있는지를 회수 합니다.

다음 예약 된 새로 고침을 시작으로 인해 되기 전에 시작할 수 없습니다. 예약 된 새로 고침이 수행 되지 것입니다. UI에서 수동으로 트리거되는 요청 시 새로 고침 실패 하기 전에 최대 세 번 실행 하려고 합니다.

용량 관리자 (및 서비스 관리자 Power BI)를 모니터링할 수는 **평균 새로 고침 대기 시간 (분)** 시작 작업의 예약된 된 시간 사이의 평균 지연 시간을 결정 하는 메트릭.

에 지정 된 시간에 데이터를 영향을 주는 관리는 우선 순위를 새로 고칩니다 하지 하는 동안 충분 한 메모리를 사용할 수 있는지 확인 합니다. 이 격리 알려진 리소스가 충분 한 용량을 데이터 집합을 포함할 수 있습니다. 관리자는 충돌을 최소화 하도록 예약 된 데이터 새로 고침 시간을 줄이고 또는 분산을 위해 데이터 집합 소유자를 사용 하 여 좌표가 없습니다 수 이기도 합니다. 보려면 새로 고침 큐 관리자는 또는 데이터 집합 검색을 예약 합니다.

#### <a name="why-are-refreshes-slow"></a>새로 고침 느린 이유는 무엇 인가요?

새로 고침-저속 또는 이전 일반적인 질문 주소) (으로 느린 인식 수 있습니다.

새로 고침 속도가 느린 실제로 여러 이유로 인해 수 있습니다.

- 부족 한 CPU (새로 고침 CPU를 많이 수 있음)
- 메모리가 부족 하거나, 새로 고침을 일시 중지 (해야 하는 조건이 recommence 낮추면 때 다시 시작 하려면 새로 고침)의 결과
- 비 용량 이유로, 데이터 원본 시스템 응답성, 네트워크 대기 시간, 잘못 된 사용 권한 또는 게이트웨이 처리량
- 데이터 볼륨-증분을 구성 하는 것이 좋습니다 새로 고침, 아래 설명과 같이

용량 관리자 (및 서비스 관리자 Power BI)를 모니터링할 수는 **평균 새로 고침 기간 (분)** 시간이 지남에 따라 비교에 대 한 벤치 마크를 확인 하는 메트릭 및 **평균 새로 고침 대기 시간 (분)** 간의 평균 지연을 결정 하는 메트릭 평균 작업 시작과 예약된 된 시간 사이의 지연입니다.

증분 새로 고침에는 특히 큰 모델 테이블에 대 한 데이터 새로 고침 기간을 크게 줄일 수 있습니다. 증분 새로 고침을 사용 하 여 연결 하는 네 가지 혜택 가지가 있습니다.

- **새로 고침 더 빠릅니다** : 테이블의 하위 집합만 로드, 줄이는 CPU 및 메모리 사용 하며 여러 파티션을 새로 고칠 때 병렬 처리를 클 수 있습니다.
- **필요한 경우에 새로 고침은 발생** : 데이터가 변경 된 경우에 로드 하려면 증분 새로 고침 정책은 구성할 수 있습니다.
- **새로 고침은 됩니다 안정적** : 휘발성 데이터가 원본 시스템에 대 한 짧은 실행 중인 연결 가능성이 적으며 연결 끊기
- **모델 유지 trim** : 증분 새로 고침 정책은 자동으로 기록 슬라이딩 시간 초과 제거 하도록 구성할 수 있습니다.

자세한 내용은 참조는 [Power BI 프리미엄의 증분 새로 고침](service-premium-incremental-refresh.md) 문서.

#### <a name="why-are-data-refreshes-not-completing"></a>이유는 데이터를 새로 고칩니다 완료 되지?

데이터 새로 고침을 시작 하지만 완료 하지 못한 경우 몇 가지 이유로 인해 수 있습니다.

- 메모리가 부족 하거나, 프리미엄 용량에 모델 하나만 있는 경우에, 즉 모델 크기가 매우 큰
- 시스템 연결 끊기, 잘못 된 사용 권한 또는 게이트웨이 오류 이유로 비 용량, 데이터 원본

용량 관리자 (및 서비스 관리자 Power BI)를 모니터링할 수는 **메모리 부족으로 인해 새로 고침 오류** 메트릭.

#### <a name="why-are-ai-calls-failing"></a>이유는 AI 호출 실패?

AI 호출은 여러 가지 이유로 실패할 수 있습니다. 최소 메모리는 인공 지능을 시작 하려면 워크 로드 5 GB 인데이 충분 하지 않을 일부 입력된 데이터 집합에 대 한 필요 합니다. 예를 들어 자동화 된 기계 학습 모델을 학습에서는 두 번 이상 있으며 여러 번 입력된 데이터 집합 크기 또한 AI 호출을 완료 하려면 2 시간 보다 오래 걸리는 경우 종료 됩니다. 자동화 된 machine learning이 두 시간에 가장 적합 한 모델 2 시간 내에 완료 하지는 모델 학습 호출 반환 됩니다.  AI 호출 보다 우선적으로 적용 하는 대화형 요청도 중단 될 수 있습니다.

관리자는 징후 우선 다른 요청에 대 한 AI 대기 시간을 모니터링 해야 합니다. 관리자는 입력된 데이터 크기를 기준으로 AI 워크 로드에 사용할 수 있는 메모리가 충분 한지 확인할 수도 있습니다. 충분 한 리소스가 있는 것으로 알려진 용량에는 AI 워크 로드를 격리 하는 포함 될 수 있습니다. 관리자는 충돌을 최소화 하도록 데이터 흐름 새로 고침 시간을 줄이고 또는 분산을 위해 데이터 흐름 소유자를 사용 하 여 좌표가 없습니다 수 이기도 합니다. Note 수 없으면 관리자에 대 한 AI 호출 대기열을 봅니다.

### <a name="optimizing-models"></a>모델 최적화

최적 모델 디자인은 효율적이 고 확장 가능한 솔루션을 제공 하는 데 중요 합니다. 그러나 하기가이 백서에서 다루지 전반적인 설명은 제공 합니다. 대신이 섹션에서는 모델을 최적화 하는 경우 고려 사항에 대 한 주요 영역을 제공 합니다.

#### <a name="optimizing-power-bi-hosted-models"></a>Power BI 호스팅 모델 최적화

데이터 원본 및 모델 계층에서 프리미엄 용량에서 호스팅되는 최적화 모델을 구현할 수 있습니다.

가져오기 모델에 대해 최적화 가능성을 고려 하십시오.

![가져오기 모델에 대해 최적화 가능성을 파악](media/whitepaper-premium-deployment/import-model-optimizations.png)

데이터 원본 계층:

- 관계형 데이터 원본 미리 통합 된 데이터를 적절 한 인덱스를 적용, 증분 새로 고침 기간으로 일치 하는 테이블 파티션 정의 및 계산을 구체화 하 여 가능한 가장 빠른 새로 고침 되도록 최적화할 수 있습니다 (대신 계산 테이블 및 열을 모델) 또는 계산 논리 보기에 추가
- 관계형 저장소를 사용 하 여 비관계형 데이터 원본 미리 통합 될 수 있습니다.
- 게이트웨이 가능 데이터 원본에 가까운 근접성에 충분 한 네트워크 대역폭을 사용 하 여 전용된 컴퓨터에 충분 한 리소스가 있는지 확인

모델 계층:

- 파워 쿼리 쿼리 디자인 최소화 하거나 복잡 한 변환 및 특히 여러 데이터 원본 (데이터 웨어하우스 이렇게 해당 추출-변환-로드 단계)를 병합 하는 제거할 수 있습니다. 또한 적절 한 데이터 원본 개인 정보 수준 설정 되어 있는지 확인, 쿼리 전체에서 결합 된 결과 생성 하기 위해 전체 결과 로드 하려면 Power BI 요구 방지할 수 있습니다이.
- 모델 구조는 데이터 로드를 결정 하 고 모델 크기에 직접 영향을 미칩니다. 행 (특히 과거 데이터)을 제거 하는 열을 제거 하거나 (자세한 데이터를 로드 하는) 대신 요약 된 데이터를 로드 하 여 불필요 한 데이터를 로드 하지 않도록 되도록 지정할 수 있습니다. 큰 크기 감소를 저장 하지 않거나 매우 효율적으로 압축 하는 카디널리티가 높은 열 (특히 텍스트 열)을 제거 하 여 수행할 수 있습니다.
- 양방향 필터링을 허용 하는 것이 유리 아닌 단일 방향 관계를 구성 하 여 모델 쿼리 성능을 개선할 수 있습니다. 또한 양방향 필터링 하지 않고 CROSSFILTER 함수를 사용 하는 것이 좋습니다.
- 모델 및 결과의 크기가 새로 고침 시간이 더 늘어납니다이 있지만 집계 테이블에서 로드 하 여 응답에는 사전 데이터를 요약 하는 빠른 쿼리를 달성할 수 있습니다. 일반적으로 매우 큰 모델 또는 복합 모델 디자인에 대 한 집계 테이블을 예약 해야 합니다.
- 계산 된 테이블 및 열 모델 크기가 증가 하 고 새로 고침 시간이 더 길어지게 됩니다. 일반적으로 저장소 크기를 줄여야 및 더 빠른 새로 고침 시간을 달성할 수 있습니다 데이터를 구체화 하거나 데이터 원본에서 계산 하는 경우. 없는 경우 파워 쿼리 사용자 지정 열을 사용 하 여 향상 된 저장소 압축을 제공할 수 있습니다.
- 측정값 및 RLS 규칙을 가장 비용이 많이 드는 수식을 방지 하려면 논리를 다시 작성에 대 한 DAX 식을 튜닝할 수 있을 수 있습니다.
- 증분 새로 고침 새로 고침 시간을 단축 하 고 메모리 및 CPU 절약 크게 수 있습니다. Trim 모델 크기를 유지 하는 기록 데이터를 제거 하려면 증분 새로 고침을 구성할 수도 있습니다.
- 충돌 하는 다른 쿼리 패턴 경우 모델 두 가지 모델로 향후 재설계 될 수 있습니다. 예를 들어, 일부 보고서를 모든 기록과 수 동안의 데이터를 있는 높은 수준의 집계 24 시간의 대기 시간을 허용 합니다. 오늘날의 데이터를 사용 하 여 우려되는 개별 트랜잭션에 세분화 된 액세스 해야 하는 다른 보고서입니다. 모든 보고서를 충족 하기 위해 단일 모델을 디자인 하는 대신 각 요구 사항에 대 한 액세스에 최적화 된 두 가지 모델을 만듭니다.

DirectQuery 모델에 대해 최적화 가능성을 고려 하십시오. 기본 데이터 원본에 쿼리 요청을 실행 하는 모델을 데이터 원본 최적화는 응답성이 뛰어난 모델 쿼리를 제공 하는 데 중요 합니다.

 ![DirectQuery 모델에 대해 최적화 가능성을 파악](media/whitepaper-premium-deployment/direct-query-model-optimizations.png)

데이터 원본 계층:

- 데이터 소스를 최적화할 수 있습니다을 보장 하기 위해 미리 데이터 통합 (이 불가능 모델 계층에서)를 적절 한 인덱스를 적용 하 여 가장 빠른 가능한 쿼리를 구체화 하는 테이블 파티션 정의 요약 된 데이터 (사용 하 여 인덱싱된 뷰) 및 계산의 양을 최소화 합니다. 최상의 환경은 통과 쿼리는 필터링 및 인덱싱된 테이블 또는 뷰 간의 내부 조인 수행 해야 하는 경우 수행 됩니다.
- 게이트웨이 가능 데이터 원본에 가까운 근접성에 충분 한 네트워크 대역폭을 사용 하 여 전용된 컴퓨터에 충분 한 리소스가 있는지 확인

모델 계층:

- 파워 쿼리 쿼리 디자인에서 변환 하지 않고도-가급적 적용할 변환을 절대 최소 유지 하려고 그렇지 않은 경우
- 양방향 필터링을 허용 하는 것이 유리 아닌 단일 방향 관계를 구성 하 여 모델 쿼리 성능을 개선할 수 있습니다. 관계를 모델링을 가정 (이 경우) 하는 경우 참조 무결성이 적용 되도록 구성 해야 하는 또한 데이터 원본 쿼리를 더 효율적으로 내부 조인을 사용 하 여 (대신 outer join)을 생성 합니다.
- Power Query 쿼리 사용자 지정 열 또는 모델 계산된 열을 만들지 않도록-가능한 경우 데이터 원본에서 구체화
- 측정값 및 RLS 규칙을 가장 비용이 많이 드는 수식을 방지 하려면 논리를 다시 작성에 대 한 DAX 식을 튜닝할 수 있을 수 있습니다.

복합 모델에 대해 최적화 가능성을 고려 하십시오. 복합 모델을 통해 다양 한 가져오기 및 DirectQuery 테이블 수 있음을 기억 하십시오.

![복합 모델에 대해 최적화 가능성을 파악](media/whitepaper-premium-deployment/composite-model-optimizations.png)

- 일반적으로 가져오기 및 DirectQuery 모델에 대 한 최적화 항목은 이러한 저장소 모드를 사용 하는 복합 모델 테이블에 적용 합니다.
- 일반적으로 노력 차원 유형 테이블 (비즈니스 엔터티를 나타냄)를 구성 하 여 분산 된 디자인을 달성 하기 위해 이중 저장소 모드 및 테이블로 팩트 유형 (종종 큰 테이블을 나타내는 운영 팩트) DirectQuery 저장소 모드입니다. 이중 저장소 모드에 모두 가져오기 및 DirectQuery 저장소 모드 및이 통과 기본 쿼리를 생성할 때 사용할 가장 효율적인 저장소 모드를 확인 하려면 Power BI 서비스를 사용 하면 의미 합니다.
- 게이트웨이 가능 데이터 원본에 가까운 근접성에 충분 한 네트워크 대역폭을 사용 하 여 전용된 컴퓨터에 충분 한 리소스가 있는지 확인
- 집계 테이블은 구성할 가져오기 저장소 모드는 DirectQuery 저장소 모드 형식 팩트 테이블을 요약 하는 데 사용 하는 경우 큰 쿼리 성능 향상을 제공할 수 있습니다. 이 경우 집계 테이블은 모델의 크기를 늘리고 새로 고침 시간 및 쿼리 속도 향상 감수할 인 경우가 많습니다.

#### <a name="optimizing-externally-hosted-models"></a>외부에서 호스팅 모델 최적화

에 설명 된 많은 최적화 가능성을 파악 합니다 [Optimizing Power BI-Hosted 모델](#optimizing-power-bi-hosted-models) 항목에서는 Azure Analysis Services 및 SQL Server Analysis Services를 사용 하 여 개발 하는 모델에도 적용 합니다. 일반 예외는 현재 지원 되지 않는, 복합 모델 및 집계 테이블을 포함 하 여 특정 기능입니다.

데이터 집합 외부에서 호스팅에 대 한 추가 고려 사항이 Power BI 서비스와 관련 하 여 호스팅 데이터베이스입니다. Azure Analysis Services, Power BI 테 넌 트 (홈 영역)와 동일한 지역에서 Azure 리소스를 만드는 의미 합니다. IaaS에 대 한 SQL Server Analysis Services에 대 한 즉, 동일한 지역의 VM을 호스트 하 고 온-프레미스에 대 한 효율적인 게이트웨이 설치를 확인 의미 합니다.

이야기 하는 Azure Analysis Services 데이터베이스 및 SQL Server Analysis Services 테이블 형식 데이터베이스에 모델 메모리에 완전히 로드 해야 하며 쿼리를 지원 하기 위해 항상 상태로 남아 있는 전혀 관심 수 있습니다. Power BI 서비스와 마찬가지로 있어야 모델을 새로 고치는 동안 온라인 유지 해야 하는 경우 새로 고침에 대 한 충분 한 메모리입니다. Power BI 서비스와 달리 모델은 사용량에 따라 메모리를 드나드는 자동으로 오래 된 개념은 있습니다. 따라서 power BI 프리미엄을 낮은 메모리 사용량을 사용 하 여 모델 쿼리를 최대화 하기 위해 보다 효율적인 방법은 제공 합니다.

### <a name="capacity-planning"></a>용량 계획

프리미엄 용량 크기의 사용 가능한 메모리와 프로세서 리소스 용량 제한은 결정 합니다. 프리미엄 용량 수는 고려 사항에도 여러 개의 프리미엄을 만들 때 용량 워크 로드를 서로 격리 시킬 수 있습니다. 저장소 용량 노드당 100TB 이며이 하는 모든 워크 로드에 대 한 충분 한 개 이상의 가능성이 note 합니다.

프리미엄 용량의 수와 크기를 결정 어려울 수 있습니다, 특히 만든 초기 용량에 대 한 합니다. 용량 크기 조정 예상된 일상 사용량을 나타내는 평균 워크 로드를 이해 하는 경우 첫 번째 단계입니다. 일부 워크 로드는 같은 이해 하는 것이 반드시 합니다. 예를 들어--스펙트럼의 한쪽 끝의 단일 시각적 개체를 포함 하는 단일 보고서 페이지에 액세스 하는 동시 사용자 100 명은 쉽게 달성할 수 있습니다. 아직-스펙트럼의 한쪽 끝에 100 개의 다른 보고서에 액세스 하는 동시 사용자 100 명 보고서 페이지의 시각적 개체에 100 개의 것 용량 리소스의 매우 다양 한 요구를 작성 하려면입니다.

용량 관리자 환경, 콘텐츠 및 예상 되는 용도를 특정 많은 요소를 고려 하므로 할 수 있습니다. 재정의 목적은 일관성 있는 쿼리 시간, 허용 가능한 대기 시간 및 제거 비율을 제공 하는 동안 용량 사용률을 극대화 하는 것입니다. 고려 사항에 대 한 요소를 포함할 수 있습니다.

- **크기와 데이터 모델** : 가져오기 모델 새로 고침 또는 쿼리를 허용 하는 메모리에 완전히 로드 해야 합니다. LC/DQ 데이터 집합에는 상당한 프로세서 시간 및 복잡 한 측정값 또는 RLS 규칙을 평가할 수 있는 상당한 메모리가 필요할 수 있습니다. 메모리 및 프로세서 크기와 LC/DQ 쿼리 처리량 용량 크기에 따라 제한 됩니다.
- **동시 활성 모델** : 다른 import 모델의 동시 쿼리은 최상의 응답성 및 성능을 때 제공 메모리에 남아 있습니다. 해당 새로 고침 수 있도록 추가 메모리를 사용 하 여 자주 쿼리 하는 모든 모델을 호스트 하는 데 충분 한 메모리가 있어야 합니다.
- **가져오기 모델 새로 고침** : 새로 고침 유형 (전체 또는 증분), 기간 및 Power Query 쿼리, 계산 된 테이블/열 논리의 복잡성 메모리와 특히 프로세서 사용량에 영향을 줄 수 있습니다. 용량 크기 (1.5 x backend v 코어, 반올림)에 따라 동시 새로 고침 제한 됩니다.
- **동시 쿼리** : 여러 쿼리가 동시에 발생할 수 있습니다에 응답 하지 않을 때 보고 프로세서나 LC/DQ 연결 용량 한도 초과 합니다. 이 여러 시각적 개체를 포함 하는 보고서 페이지에 대 한 경우는 더욱 그렇습니다.
- **데이터 흐름, 페이지를 매긴 보고서 및 AI 함수** : 데이터 흐름, 페이지가 매겨진된 보고서 및 용량 메모리의 구성 가능한 최대 비율을 요구 하 여 AI 함수를 지원 하기 위해 용량을 구성할 수 있습니다. 메모리를 동적으로 데이터 흐름에 할당 됩니다 있지만 페이지 매긴된 보고서 및 AI 워크 로드를 정적으로 할당 됩니다.

이러한 요소 외에도 용량 관리자 여러 가지 역할을 만드는 것이 좋습니다 수 있습니다. 여러 용량 워크 로드의 격리에 대 한 허용 및 우선 순위 워크 로드 리소스 보장 되도록 구성할 수 있습니다. 예를 들어 셀프 서비스 BI (SSBI) 워크 로드에서 비즈니스에 중요 한 워크 로드를 구분 하려면 두 용량을 만들 수 있습니다. 비즈니스에 중요 한 용량 보장 된 리소스에 작성만 IT 부서에 부여 된 액세스를 제공 하는 큰 회사 모델 격리를 사용할 수 있습니다. 비즈니스 분석가 게 부여 된 액세스를 사용 하 여 점점 더 많은 작은 모델을 호스트 하는 SSBI 용량을 사용할 수 있습니다. SSBI 용량 때때로 발생할 수 있습니다 허용 가능할 수 있는 쿼리 또는 새로 고침 대기 합니다.

시간이 지남에 따라 용량 관리자 수 작업 영역에서 분산 용량 용량을 확장 또는 축소 하 고 작업 영역 또는 용량 간에 작업 영역 간에 콘텐츠를 이동 하 여 합니다. 일반적으로 더 큰 호스트 모델 확장 및 더 높은 동시성을 위해 있습니다 확장 됩니다.

라이선스를 구입 v 코어를 사용 하 여 테 넌 트를 제공 한다는 사실을 기억 하십시오. 구매를 **P3** 구독을 만들거나 최대 4 개의 프리미엄 용량을 사용할 수 P3 또는 P2, x 2 또는 4 x 1 즉 x P1 합니다. 또한 P2 용량 P3 용량을 업사이징 전에 수에 고려해 야 할 v 코어 분할 두 P1 용량을 만들려면.

### <a name="testing-approaches"></a>테스트 방법

용량 크기를 결정 되 면 테스트 수 수행한 통제 된 환경 만들기. 실용적이 고 경제적인 옵션을 만들 때 P1 용량 P2 사용 하 여 A4 용량을 같은 크기 임을 유의 해야 하는 (A Sku) Azure 용량 및 P3 용량 동일한 크기 A5 및 A6 용량으로 각각. Azure 용량 신속 하 게 만들 수 있으며 시간 단위로 요금이 청구 됩니다. 따라서 테스트 완료 되 면 삭제할 수 있습니다 쉽게 비용 발생을 중지 합니다.

테스트 콘텐츠 Azure 용량에 만든 작업 영역에 추가할 수 있습니다 및 다음 단일 사용자로 보고서를 실행 쿼리의 현실적이 고 대표적인 워크 로드를 생성 합니다. 가져오기 모델의 경우 각 모델에 대 한 새로 고침도 수행 되어야 합니다. 리소스 사용률을 이해 하는 모든 메트릭을 검토 하려면 모니터링 도구 사용 다음 수 있습니다.

테스트는 반복 가능한 것: 테스트를 여러 번 실행 해야 하 고 때마다 약 동일한 결과 제공 해야 합니다. 이러한 결과의 평균 추정 및 true 프로덕션 환경에서 워크 로드 예측에 사용할 수 있습니다.

스트레스 테스트를 생성 하려면 부하 테스트는 이러한 방법이 실제 작업을 시뮬레이션 하기 위해 응용 프로그램을 개발 하는 것이 좋습니다. 이 작업을 수행 하는 방법의 세부 정보는이 백서에서는 다루지 않습니다. 자세한 내용은 코드 샘플을 포함 한 참조를 [부하 테스트 Power BI 응용 프로그램 Visual Studio 부하 테스트를 사용 하 여](https://blogs.msdn.microsoft.com/charles_sterling/2018/04/04/webinar-load-testing-power-bi-applications-with-visual-studio-load-test/) 웹 세미나입니다.

## <a name="exploring-real-world-scenarios"></a>실제 시나리오를 탐색합니다.

이 섹션에서는 몇 가지 실제 시나리오를 소개 일반적인 문제 또는 과제, 들을 식별 하는 방법 및 해결 하는 방법에 설명 합니다.

- [데이터 집합을 최신 상태로 유지](#keeping-datasets-up-to-date)
- [느린 응답 하는 데이터 집합을 식별](#identifying-slow-responding-datasets)
- [산발적으로 느린 응답에 대 한 원인을 식별 데이터 집합](#identifying-causes-for-sporadically-slow-responding-datasets)
- [충분 한 메모리가 있는지 여부를 결정 합니다.](#determining-whether-there-is-enough-memory)
- [충분 한 CPU 있는지 여부를 결정 합니다.](#determining-whether-there-is-enough-cpu)

차트 및 테이블 예제와 함께 하는 단계에는 합니다 **Power BI Premium 용량 메트릭을 앱** (앱) 있는 Power BI 관리자에 대 한 액세스 권한을 갖습니다.

### <a name="keeping-datasets-up-to-date"></a>날짜 데이터 집합 위로 유지

이 시나리오에서는 보고서 데이터가 이전 또는 "부실" 경우에 따라 표시 되는 사용자가 불평 하는 경우는 조사를 트리거 했습니다.

앱에서 관리자와 상호 작용 하는 **새로 고칩니다** 시각적 개체를 정렬 하 여 데이터 집합을 **최대 대기 시간** 내림차순 통계. 이 데이터 집합에 있는 가장 긴 대기 시간, 작업 영역 이름으로 그룹화를 표시 하는 데 도움이 됩니다.

![작업 영역에서 그룹화 되는 최대 대기 시간을 내림차순으로 정렬 된 데이터 집합 새로 고침](media/whitepaper-premium-deployment/dataset-refreshes.png)

또한 합니다 **시간당 평균 새로 고침 대기 시간** 시각적 개체는 알 수 있습니다 새로 고침 대기 시간이 최대 4PM 경에 매일 일관 되 게 합니다.

![새로 고침 오후 4 시 주기적으로 최대 대기](media/whitepaper-premium-deployment/peak-refresh-waits.png)

이러한 결과 대 한 가능한 설명 여러 가지가 있습니다.

- 새로 고침 시도 너무 많이 수 수행 동시에, 용량 노드 (기본 메모리 할당을 사용 하 여 P1에서 6 개의 동시 새로)에서 적용 된 제한을 초과

- 사용 가능한 메모리 (전체 새로 고침에 필요한 메모리 x 2 이상 필요)에 맞게 너무 클 수 있는 데이터 집합 새로 고침
- 비효율적인 파워 쿼리 논리 데이터 집합 새로 고침 하는 동안 메모리 사용량이 갑자기 초당 발생 될 수 있습니다. 사용 중인 용량에 대 한 새로 고침 실패 하 고 잠재적으로 용량에서 다른 보고서 뷰 작업에 영향을 주는, 물리적 제한이 경우에 따라 연결할 수 있습니다이.
- 메모리에 유지 해야 하는 자주 쿼리 데이터 집합 사용 가능한 메모리 제한으로 인해 새로 고침 하는 다른 데이터 집합의 기능에 영향을 줄 수 있습니다.

이 조사를 위해 Power BI 관리자에 대 한 같을 수 있습니다.

- 데이터 새로 고침에 사용 가능한 메모리를 새로 고친 데이터 집합의 크기 x 2 보다 작은 경우 당시 사용 가능한 메모리 부족
- 아직 대화형 트래픽 과도 한 새로 고침 시간 표시를 시작 하는 고쳤습니다 되 하 고 새로 고침을 되기 전에 메모리에 없습니다. 데이터 집합입니다. 어떤 데이터 집합에 로드 된 메모리 언제 든 지 Power BI를 보려면 관리자 살펴볼 수의 데이터 집합 영역 **데이터 집합** 탭의 가로 막대 중 하나를 클릭 하 여 지정된 된 시간에 앱 및 크로스 필터에는 **시간별 데이터 집합 개수를 로드**합니다. 여러 데이터 집합 예약 된 새로 고침의 시작을 지연 시킬 수 있는 메모리에 로드 된 경우 시간을 나타내는 로컬 급증 (아래 이미지에 표시)
- 새로 고침 시간 전에 너무 많은 다양 한 대화형 보고서를 제공 함으로써 발생 하는 메모리가 매우 부족 했습니다 나타내는 시작 하려면 예약 된 데이터 새로 고침을 수행 하는 향상 된 데이터 집합 제거 놓습니다. 합니다 **시간별 데이터 집합에 대 한 및 메모리 소비** visual 제거 급증을 명확 하 게 나타낼 수 있습니다.

다음 이미지는 로드 된 데이터 집합에서 로컬 스파이크를 보여 줍니다. 대화형 쿼리를 제안 하는 지연 된 시작 새로 고침 합니다. 기간을 선택 하는 **시간별 로드 된 데이터 집합 계산** 시각적 개체는 교차 필터링 합니다 **데이터 집합 크기** visual 합니다.

![로드 된 데이터 집합의 로컬 급증 제안 새로 고침의 대화형 쿼리 지연 된 시작](media/whitepaper-premium-deployment/hourly-loaded-dataset-counts.png)

Power BI 관리자를 시작 하려면 데이터 새로 고침에 사용할 수 있는 메모리가 충분 한지 확인 하는 단계를 수행 하 여 문제를 해결 하려고 할 수 있습니다.

- 연결 데이터 집합 소유자 및 갑니다 태거 및 공간 데이터를 새로 고침 일정
- 데이터 집합을 줄이는 불필요 한 대시보드 또는 대시보드를 제거 하 여 쿼리 로드 타일, 특히 행 수준 보안을 적용 하는
- 파워 쿼리 논리를 최적화 하 여 데이터 새로 고침 속도, 모델 계산 열 또는 테이블을 데이터 집합 크기를 줄이거나 구성 데이터를 증분 하는 데 더 큰 데이터 집합 새로 고침

### <a name="identifying-slow-responding-datasets"></a>느린 응답 하는 데이터 집합을 식별

이 시나리오에서는 사용자가 특정 보고서를 열려면 시간이 오래 걸렸을 불평 하는 경우는 조사 트리거 되었습니다 및 시간에 중단 됩니다.

Power BI 관리자는 앱에서 사용할 수는 **쿼리 기간** 데이터 집합을 내림차순으로 정렬 하 여 성능이 가장 낮은 데이터 집합을 확인 하려면 visual **평균 기간**합니다. 이 시각적 개체도 개수를 표시 데이터 집합 쿼리를 데이터 집합 쿼리는 얼마나 자주 볼 수 있도록 합니다.

![성능이 가장 낮은 데이터 집합 표시](media/whitepaper-premium-deployment/worst-performing-datasets.png)

Power BI 관리자 참조할 수 있습니다는 **쿼리 기간 분포** 버킷 팅된 쿼리 성능의 전체 분포를 보여 주는 시각적 개체 (< = 30ms, 0-100ms 등) 필터링 된 기간에 대 한 합니다. 1 초를 사용 하거나 적은 응답에서 고려할 대부분의 사용자 쿼리 일반적으로 시간이 오래 걸리는 쿼리 성능 저하를 인지를 만드는 경향이 있습니다.

합니다 **시간별 쿼리 기간 분포** visual으로 잘못 된 경우 용량 성능 수 있는 된 인식 한 시간 기간을 식별 하려면 Power BI 관리자 허용 합니다. 클수록 막대 세그먼트를 나타내는 쿼리를 사용 하는 기간 1 초 넘게, 더 큰 위험 사용자가 성능 저하를 느끼게 됩니다.

시각적 개체는 대화형이 고 막대의 세그먼트를 선택할 경우 해당 **쿼리 기간** 테이블 보고서 페이지의 시각적 개체는 나타내는 데이터 집합 표시를 교차 필터링 합니다. 이 교차 필터링 하는 데이터 집합의 응답 속도가 Power BI 관리자가 쉽게 식별할 수 있습니다.

다음 이미지는 기준으로 필터링 된 시각적 개체를 보여 줍니다 **시간별 쿼리 기간 분포**1 시간 버킷의 성능이 가장 낮은 데이터 집합에 초점을 합니다. 

![필터링 된 시간별 쿼리 기간 분포 visual 데이터 집합을 수행 나타낼지를 보여 줍니다.](media/whitepaper-premium-deployment/hourly-query-duration-distributions.png)

특정 1 시간 시간 범위에서 잘못 된 수행 하 고 데이터 집합을 식별 한 후 Power BI 관리자 성능 저하 용량을 오버 로드 된 문제의 원인은 잘못 인해 데이터 집합 또는 보고서를 설계 하는지 여부를 조사할 수 있습니다. 이 위해 참조할 수 있는 합니다 **쿼리 대기 시간** 시각적 개체 및 평균 쿼리 대기 시간을 내림차순으로 정렬 데이터 집합입니다. 쿼리의 비율을 대기 중인 경우 데이터 집합에 대 한 수요가 많은 쿼리 대기 작업의 원인이 될 합니다. 평균 쿼리 대기 시간이 상당한 경우 (> 100ms), 가치가 있습니다 데이터 집합 및 최적화를 설정할 수 없으면 보려는 보고서를 검토 합니다. 예를 들어, 아마도 더 적은 시각적 개체에 지정 된 보고서 페이지 또는 DAX 식 최적화 합니다.

![쿼리 대기 시간 표시 하면 성능이 낮은 데이터 집합 표시](media/whitepaper-premium-deployment/query-wait-times.png)

가지 데이터 집합의 쿼리 대기 시간 빌드 구성에 대 한 몇 가지 가능한 이유가 있습니다.

- 최적 모델 디자인, 측정값 식 또는 보고서 디자인-느려지게 할 수 있는 모든 상황 장기 높은 수준의 CPU 사용 하는 쿼리를 실행 합니다. 이렇게 하면 새 쿼리가 CPU 스레드를 사용할 수 있으며 일반적으로 가장 바쁜 업무 시간을 표시 하는 호위 (convoy) 효과 (인지 트래픽 걸림)를 만들 수 있습니다 때까지 대기 하도록 합니다. 합니다 **쿼리 대기** 페이지에는 주 리소스 데이터 집합 평균 높은 쿼리 대기 시간이 있는지 확인 됩니다.
- 많은 수의 동시 용량 사용자 (수백 ~ 수천 개)를 동일한 보고서 또는 데이터 집합을 사용 합니다. 도 잘 설계 된 데이터 집합은 동시성 임계값을 초과 잘못 수행할 수 있습니다. 이 속성은 일반적으로 쿼리를 다른 데이터 집합 표시 보다 계산 하기 위한 크게 더 높은 값을 보여 주는 단일 데이터 집합으로 표시 됩니다 (예: 300 K에 비해 하나의 데이터 집합에 대 한 쿼리에 < 다른 모든 데이터 집합에 대 한 30 K 쿼리). 쿼리 될 때까지 대기, 태거 하기 위해이 데이터 집합 시작 되 고에서 볼 수 있습니다이 시점에서의 **쿼리 기간** visual 합니다.
- 많은 서로 다른 데이터 집합 쿼리를 동시에 데이터 집합 메모리를 드나드는 자주 주기로 쓰 래 싱 발생 합니다. 이 인해 사용자가 데이터 집합을 메모리로 로드 될 때 성능 저하를 경험 합니다. 이 확인 하려면 Power BI 관리자를 참조할 수는 **시간별 데이터 집합에 대 한 및 메모리 소비** 시각적 개체를 메모리에 많은 수의 데이터 집합 로드 되도록 할 수도 있습니다는 반복적으로 제거 됩니다.

### <a name="identifying-causes-for-sporadically-slow-responding-datasets"></a>산발적으로 느린 응답에 대 한 원인을 식별 데이터 집합

이 시나리오에서는 사용자 보고서 시각적 때로는 느낌 응답할 느리게 하거나, 응답 하지 않을 수 있습니다 하지만 다른 시간에 만족 스럽게 응답성이 뛰어난 것을 설명 하는 경우는 조사 트리거 되었습니다.

앱 내에서 **쿼리 기간** 섹션에서는 다음과 같은 방식 원인 데이터 집합을 찾는 데 사용 되었습니다.

- 에 **쿼리 기간** 시각적 관리자 (최상위 데이터 집합 쿼리부터 시작) 하는 데이터 집합에서 데이터 집합을 필터링 및 교차 필터링 된 막대의 검사를 **시간별 쿼리 배포** visual 합니다.
- 단일 한 시간 가로 막대의 비율이 해당 데이터 집합에 대 한 다른 1 시간 분량 막대 및 모든 쿼리 기간 그룹에 중요 한 변경을 표시 하는 경우 (예: 색 간의 비율 변경 현저 하 게), 즉,이 데이터 집합 설명 드물게 변경 성능을 제공 합니다.
- 1 시간 분량 막대는 불규칙 한 부분 성능 저하 쿼리의 보여 주는 표시는 해당 데이터 집합에 영향을 시끄러운 이웃 효과 다른 데이터 집합의 활동에 의해 발생 하는 timespan.

1 년 1 월 30 일에 아래 이미지 데이터 집합의 성능에 상당한 요즘 발생에 나타난 크기 버킷의"(3,10s]" 실행 기간입니다. 해당 1 시간 분량 막대를 클릭 하면 모든 데이터 집합이 시간 동안 메모리에 로드 되므로 시끄러운 이웃 효과 일으키는 후보 원인 데이터 집합을 만들도록 표시 됩니다.

![가장 낮은 성능에서 많은 부분을 보여 주는 가로 막대형](media/whitepaper-premium-deployment/worst-performing-queries.png)

문제가 발생 하는 timespan (즉, 중 1 월 30 일 위의 이미지에서) 식별 되 면 Power BI 관리자가 모든 데이터 집합 필터를 제거 후이 시간 동안에 데이터 집합 쿼리 적극적으로 된를 확인 하는 timespan에 의해서만 필터링 수 있습니다. 시끄러운 이웃 효과 대 한 원인 데이터 집합은 일반적으로 상위 쿼리 데이터 집합 또는 가장 긴 평균 쿼리 기간을 사용 하 여 하나입니다.

데이터 집합 패턴을 데이터 집합 크기, 사용량 요구 사항 및 데이터 새로 고침 하는 경우 공유 용량 또는 다른 프리미엄 용량에서 다른 작업 영역을 통해 지원 됩니다 원인을 배포 하려면이 문제를 해결할 수 있습니다.

반대로 true 수 있습니다. Power BI 관리자는 시간 경우는 데이터 집합 쿼리 성능이 크게 향상 됩니다 하 고 내용을 사라짐 검색할 수 있습니다. 특정 정보를 해당 지점에서 누락 된 경우에 발생 시키는 문제를 가리키도록 도움이 될 수 있습니다는.

### <a name="determining-whether-there-is-enough-memory"></a>결정 하는지 여부를 메모리가 충분히

메모리가 부족 하 여 해당 작업을 완료 하려면 용량에 대 한 인지를 확인 하려면 Power BI 관리자를 참조할 수는 **사용 된 메모리 비율** 의 시각적 개체를 **데이터 집합** 앱의 탭. **모든** (전체) 메모리 여부에 관계 없이 이러한는 적극적으로 쿼리 처리를 메모리에 로드 하는 데이터 집합에 사용 된 메모리를 나타냅니다. **활성** 메모리 적극적으로 처리 중인 데이터 집합에 사용 된 메모리를 나타냅니다.

용량을 정상에서는 시각적 개체는이 보여 주는 모든 (합계) 사이의 간격을 같이 표시 됩니다 및 활성 메모리:

![용량을 정상는 모든 (합계) 사이의 간격을 표시 및 활성 메모리](media/whitepaper-premium-deployment/memory-healthy-capacity.png)

메모리가 중 발생 하는 용량을 활성 메모리 및 수렴, 즉 해당 시점에 메모리에 추가 데이터 집합을 로드 하는 총 메모리에 명확 하 게 동일한 시각적 개체 표시 됩니다. Power BI 관리자 클릭이 예에서 **용량 다시 시작** (에서 **고급 옵션** 관리 포털의 용량 설정 영역). 메모리에서 플러시되고 (쿼리 또는 데이터 새로 고침) 하 여 필요에 따라 메모리로 다시 로드 수 있도록 용량 결과 되 고 모든 데이터 집합에서 다시 시작 합니다.

![* * 활성 * 메모리를 사용 하 여 수렴 * * 모든 * * 메모리](media/whitepaper-premium-deployment/memory-unhealthy-capacity.png)

### <a name="determining-whether-there-is-enough-cpu"></a>결정 여부는 충분 한 CPU

일반적으로 용량의 평균 CPU 사용률이 80% 이하로 유지 되어야 합니다. 이 값을 초과 하는 용량에 근접 하 고 CPU 포화 의미 합니다.

CPU 포화의 효과 모든 작업을 처리 하려고 하는 대로 많은 CPU 컨텍스트 전환이 수행 용량으로 인해 보다 오래 걸리는 작업에 의해 표현 됩니다. 이 높은 쿼리도 표시 하는 동시 쿼리 수가 높은 프리미엄 용량에서 대기 시간입니다. 높은 쿼리 대기 시간에 따른 평소 보다 느린 응답입니다. Power BI 관리자에는 확인 하 여 CPU 포화 상태일 때 쉽게 식별할 수는 **시간별 쿼리 대기 시간 분포** visual 합니다. 정기적인 최대 쿼리 대기 시간 개수 잠재적인 CPU 채도 나타내는입니다.

![정기적인 최대 쿼리 대기 시간 잠재적인 CPU 포화를 나타낼 수](media/whitepaper-premium-deployment/peak-query-wait-times.png)

CPU 포화에 영향을 주는 경우 백그라운드 작업에서 비슷한 패턴을 검색 때로는 수 있습니다. Power BI 관리자 (되었기 때문일 수 있습니다 다른 지속적인 데이터 집합 새로 고침 및/또는 대화형 쿼리) 시 CPU 포화를 나타낼 수 있는 특정 데이터 집합에 대 한 새로 고침 시간에 정기적으로 급증을 찾을 수 있습니다. 이 인스턴스에서 참조 하는 **시스템** 보기 앱에서 CPU가 100%는 반드시 표시 하지 않을 수도 있습니다. 합니다 **시스템** 시간당 평균을 표시 하지만 대기 시간이 급증으로 나타납니다는 많은 작업의 몇 분 동안 CPU를 포화 될 수 있습니다.

더 미묘한 CPU 포화의 효과 보는 데 있습니다. 대기 하는 쿼리 수는 중요 하지만, 쿼리 대기 시간 항상 발생 어느 정도 수준까지 눈에 띄는 성능 저하 없이 합니다. 일부 데이터 집합 (긴 평균 쿼리 시간, 복잡성 또는 크기를 나타내는) 경우 다른 사용자 보다 CPU 포화 미치는 발생 가능성이 더 이러한 데이터 집합을 쉽게 식별 하려면 Power BI 관리자에서 막대의 색 구성에서 변경 내용을 볼 수는 **시간별 대기 시간 분포** visual 합니다. 이상 표시줄을 길게, 후이 시간 동안 쿼리 대기 해야 하는 데이터 집합에 대 한 모양 및 평균 쿼리 기간에 비해 평균 쿼리 대기 시간을 살펴볼 수도 있습니다. 두 메트릭은 동일한 크기의 데이터 집합에 대 한 쿼리 워크 로드는 trivial이 아닌 경우 데이터 집합 부족 하 여 CPU의 영향을 받는 가능성이 높습니다.

데이터 집합 쿼리의 높은 빈도 (예: 교육 세션의 경우)에서 여러 사용자가 각 버스트 하는 동안 CPU 포화 상태에서 결과 일시적인 작업량 증가에 사용 되 면이 효과 특히 뚜렷하게 나타납니다 수 있습니다. 이 경우 다른 데이터 집합의 용량 (시끄러운 이웃 영향을 주지)에 영향을 주는 뿐만 아니라에서이 데이터 집합에서 중요 한 쿼리 대기 시간을 경험할 수 있습니다.

작음 데이터 집합 소유자가 만든 Power BI 관리자 수 요청 하는 경우에 따라 보고서 대신 (캐시 된 타일에 대 한 쿼리 데이터 집합을 사용 하 여 주기적으로 새로 고침) 대시보드를 만들면 volatile 쿼리 워크 로드. 이 대시보드를 로드할 때 급증을 방지 하기 수 있습니다. 이 솔루션 항상 못할에 대 한 비즈니스 요구 사항에 지정 된 데이터 집합에 변경 하지 않고 CPU 포화를 방지 하는 효과적인 방법 수 있지만.

## <a name="conclusion"></a>결론

Power BI 프리미엄 조직의 모든 사용자에 대 한 일관 된 성능과 대용량 데이터 볼륨에 대 한 지원을 통합 된 셀프 서비스 및 엔터프라이즈 BI 플랫폼의 유연성을 제공합니다. Power BI 관리자 및 내용 작성자 및 게시자에 맞게이 300 수준 기술 백서를 썼습니다. Power BI 프리미엄의 잠재력을 이해할 수 있도록 디자인, 배포, 모니터링 및 확장 가능한 솔루션의 문제를 해결 하는 방법을 설명 하는 데 그 목적이 있습니다.

배포 하 고 Power BI 프리미엄 용량 관리, 관리자 및 모델 개발자가 해야 매우 잘 이해 하는 방법의 용량 함수, 어떻게 관리 하 고 수 모니터링 및 어떻게 모델 최적화 될 수 있습니다에 적절히 응답 하기 위해 성능 문제와 병목 현상을 발생 해야 합니다.

## <a name="end-notes"></a>최종 참고 사항

<a name="endnote-01"></a>\[1\] 이 기술 문서 에서만 Power BI 클라우드 서비스에서 지원 되는 Power BI 프리미엄을 사용 하 여 관련이 및 Power BI Report Server 일부에 포함 된 Power BI Report Server는 범위에 없는 제외 하 고 라이선스를 설치 하는 데 필요한 상태로 Power BI Premium Sku입니다.

<a name="endnote-02"></a>\[2\] 응용 프로그램 사용자를 대신 하 여 콘텐츠를 포함 하는 데 사용 하는 경우 클라우드 서비스와 power BI는 플랫폼-as a Service (PaaS)입니다. 이 유형의 포함 서로 다른 두 제품에서는 그 중 하나는 Power BI 프리미엄을 사용 하 여 수행할 수 있습니다.

<a name="endnote-03"></a>\[3\] 푸시, 스트리밍 및 하이브리드 데이터 집합은 프리미엄 용량에 저장 되지 않으며 배포, 관리 및 프리미엄 용량을 모니터링 하는 경우를 고려 하지 않아도 됩니다 따라서 합니다.

<a name="endnote-04"></a>\[4\] Excel 통합 문서를 Power BI 콘텐츠 형식으로 프리미엄 용량에 저장 되지 않습니다 및 배포, 관리 또는 프리미엄 용량을 모니터링 하는 경우를 고려 하지 않아도 됩니다 따라서 합니다.

<a name="endnote-05"></a>\[5\] 슬라이서 상호 작용을 무시 하도록 시각적 개체를 구성할 수 있습니다. 자세한 내용은 참조는 [Power BI 보고서의 시각화 상호 작용](service-reports-visual-interactions.md) 문서.

<a name="endnote-06"></a>\[6\] 작업 관리자 메모리를 사용 하 여 파일에 대 한 Power BI Desktop 파일 크기를 비교 하 여 크기의 차이 확인할 수 있습니다.

<a name="endnote-07"></a>\[7\] SQL Server, Azure Data Bricks, Azure HDInsight Spark (베타), Azure SQL Database 및 Azure SQL Data Warehouse Microsoft 데이터 원본에 대 한 지원을 포함 합니다. 추가 소스에 대 한 내용은 참조는 [Power BI에서 직접 쿼리를 지 원하는 데이터 원본은](desktop-directquery-data-sources.md) 문서.

<a name="endnote-08"></a>\[8\] power BI 프리미엄은 최대 10GB 크기에서까지 Power BI Desktop (.pbix) 파일을 업로드를 지원 합니다. 업로드 되 면 데이터 집합 최대 12GB까지 새로 고침의 결과로 크기를 증가할 수 있습니다. 최대 업로드 크기는 SKU에 따라 다릅니다. 자세한 내용은 참조는 [큰 데이터 집합에 대 한 Power BI 프리미엄 지원](service-premium-large-datasets.md) 문서.

<a name="endnote-09"></a>\[9\] Sku 더 적은 노력으로 보다 4 개 v 코어 전용된 인프라에서 실행 되지 않습니다. EM1, EM2, A1 및 A2 Sku를 포함 합니다.

<a name="endnote-10"></a>\[10\] 모델을 서비스 작업으로 인해 메모리에서 언로드할 수 드문 경우입니다.

<a name="endnote-11"></a>\[11\] 이러한 타이밍은 언제 든 지 변경 될 수 있습니다.

<a name="endnote-12"></a>\[12\] 에서 현재 미리 보기의 다중 지역으로 라고 합니다. 다중 지역 배포 하는 이유는 일반적으로 회사 또는 government 규정 준수 하지 않고 성능 및 확장 합니다. 보고서 및 대시보드 로드에는 여전히 요청 메타 데이터에 대 한 홈 영역에 포함 됩니다. 자세한 내용은 참조는 [Power BI 프리미엄 (미리 보기)에 대 한 다중 지역 지원을](service-admin-premium-multi-geo.md) 문서.

<a name="endnote-13"></a>\[13\] 수 사용자가 작업을 사용 하 여 Power BI 서비스를 오버 로드, 지나치게 복잡 한 쿼리를 작성 하 고, 순환 참조 등을 만드는 성능 문제를 일으킬 수 있습니다.

<a name="endnote-14"></a>\[14\] 전체 조직의 작업 영역을 할당 하는 옵션은 권장 되지 않으며, 더욱 효과적인된 방법을 것이 좋습니다. 일반적으로 프로덕션 콘텐츠에 대 한 개인 작업 영역 사용이 가장 좋습니다 아닙니다.

<a name="endnote-15"></a>\[15\] 앱 또는 Azure portal 있지만 Power BI 관리 포털에 없는 A Sku를 모니터링할 수 있습니다. A Sku를 모니터링 하려면 앱 리소스의 읽기 역할에 추가 되지 않은 경우 보고서의 새로 고침 실패 합니다. 자세한 내용은 참조는 [모니터 Power BI 프리미엄 및 Power BI Embedded 용량](service-admin-premium-monitor-capacity.md) 문서.

<a name="endnote-16"></a>\[16\] 충분 한 CPU 또는 메모리를 시작 하지 않은 경우 새로 고침 기다릴 수 있습니다.

<a name="endnote-17"></a>\[17\] 메모리에 데이터 집합의 크기는 최대 20%까지 디스크 크기 보다 클 수 있습니다.

<a name="endnote-18"></a>\[18\] 평균 메모리 사용량 (GB) 및 높은 메모리 사용량 (GB)

<a name="endnote-19"></a>\[19\] 데이터 집합 제거

<a name="endnote-20"></a>\[20\] 데이터 집합 쿼리를 데이터 집합 평균 쿼리 기간 (ms), 데이터 집합 대기 수 및 데이터 집합의 평균 대기 시간 (ms)

<a name="endnote-21"></a>\[21\] CPU 높은 사용률 수 및 CPU 시간의 사용률이 가장 높은 (지난 7 일)

<a name="endnote-22"></a>\[22\] DQ/LC 높은 사용률 개수 및 DQ/LC 시간의 사용률이 가장 높은 (지난 7 일)